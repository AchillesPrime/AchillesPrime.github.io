<!DOCTYPE HTML>
<html lang="zh-CN">
<head>
    <head>
    <meta charset="utf-8">
    <meta name="keywords" content=", hexo-theme-matery">
    <meta name="description" content="Thou hast made me endless such is thy pleasure">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>AchillesPrime</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/css/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery-2.2.0.min.js"></script>
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>
</head>

<body>

<header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="container">
            <div class="nav-wrapper">
                <div class="brand-logo">
                    <a href="/" class="waves-effect waves-light">
                        
                        <img src="/medias/logo.png" class="logo-img hide-on-small-only">
                        
                        <span class="logo-span">AchillesPrime</span>
                    </a>
                </div>

                <a href="#" data-activates="mobile-nav" class="button-collapse"><i class="fa fa-navicon"></i></a>
<ul class="right">
    
    
    <li class="hide-on-med-and-down">
        <a href="/" class="waves-effect waves-light">首页</a>
    </li>
    
    
    
    <li class="hide-on-med-and-down">
        <a href="/tags" class="waves-effect waves-light">标签</a>
    </li>
    
    
    
    <li class="hide-on-med-and-down">
        <a href="/archives" class="waves-effect waves-light">归档</a>
    </li>
    
    
    <li>
        <a id="toggleSearch" class="waves-effect waves-light">
            <i id="searchIcon" class="mdi-action-search"></i>
        </a>
    </li>

</ul>

<div class="side-nav" id="mobile-nav">
    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">AchillesPrime</div>
        <div class="logo-desc">
            
            Thou hast made me endless such is thy pleasure
            
        </div>
    </div>
    <ul class="menu-list">
        
        <li>
            <a href="/" class="waves-effect waves-light">
                <i class="fa fa-link fa-lg fa-fw"></i>首页
            </a>
        </li>
        
        <li>
            <a href="/tags" class="waves-effect waves-light">
                <i class="fa fa-link fa-lg fa-fw"></i>标签
            </a>
        </li>
        
        <li>
            <a href="/archives" class="waves-effect waves-light">
                <i class="fa fa-link fa-lg fa-fw"></i>归档
            </a>
        </li>
        
    </ul>
    <div class="social-link">
        <a href="https://github.com/blinkfox" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub"
           data-position="top" data-delay="50">
            <i class="fa fa-github fa-lg"></i>
        </a>
        <a href="mailto:chenjiayin1990@163.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我"
           data-position="top" data-delay="50">
            <i class="fa fa-envelope fa-lg"></i>
        </a>
        <a href="#!" class="tooltipped" data-tooltip="QQ号：1181062873" data-position="top" data-delay="50">
            <i class="fa fa-qq fa-lg"></i>
        </a>
    </div>
</div>

            </div>
        </div>
    </nav>
</header>



<div class="bg-cover post-cover" style="background-image: url('/medias/featureimages/41.jpg')">
    <div class="container">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <div class="description center-align post-title">
                        Java Foundation.E
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<main class="content">

    <!-- 文章内容详情 -->
    <div id="artDetail" class="container">
        <div class="card">
            <div class="card-content article-info">
                
                <div class="article-tag">
                    
                    <a href="https://achillesprime.github.io/tags/Java/" target="_blank"><span class="chip bg-color">Java</span></a>
                    
                    <a href="https://achillesprime.github.io/tags/Foundation/" target="_blank"><span class="chip bg-color">Foundation</span></a>
                    
                </div>
                
                <div class="author-info">
                    <span>
                        <i class="fa fa-calendar fa-fw"></i>2018-10-11
                    </span>
                </div>
            </div>
            <hr>
            <div class="card-content article-card-content">
                <div id="articleContent">
                    <h1 id="Three-Questions-Before-Embarking-On-A-trip-To-Java"><a href="#Three-Questions-Before-Embarking-On-A-trip-To-Java" class="headerlink" title="Three Questions Before Embarking On A trip To Java"></a>Three Questions Before Embarking On A trip To Java</h1><blockquote>
<h4 id="为什么要用这些技术"><a href="#为什么要用这些技术" class="headerlink" title="为什么要用这些技术"></a>为什么要用这些技术</h4></blockquote>
<blockquote>
<h4 id="用这些技术有什么好处"><a href="#用这些技术有什么好处" class="headerlink" title="用这些技术有什么好处"></a>用这些技术有什么好处</h4></blockquote>
<blockquote>
<h4 id="如果不用这些技术行不行"><a href="#如果不用这些技术行不行" class="headerlink" title="如果不用这些技术行不行"></a>如果不用这些技术行不行</h4></blockquote>
<hr>
<h1 id="面向对象（三）"><a href="#面向对象（三）" class="headerlink" title="面向对象（三）"></a>面向对象（三）</h1><h3 id="Wrapper-Class"><a href="#Wrapper-Class" class="headerlink" title="Wrapper Class"></a>Wrapper Class</h3><table>
<thead>
<tr>
<th style="text-align:center">基本数据类型</th>
<th style="text-align:center">包装类（引用类型）</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">byte</td>
<td style="text-align:center">Byte</td>
</tr>
<tr>
<td style="text-align:center">short</td>
<td style="text-align:center">Short</td>
</tr>
<tr>
<td style="text-align:center">int</td>
<td style="text-align:center">Integer</td>
</tr>
<tr>
<td style="text-align:center">long</td>
<td style="text-align:center">Long</td>
</tr>
<tr>
<td style="text-align:center">char</td>
<td style="text-align:center">Character</td>
</tr>
<tr>
<td style="text-align:center">float</td>
<td style="text-align:center">Float</td>
</tr>
<tr>
<td style="text-align:center">double</td>
<td style="text-align:center">Double</td>
</tr>
<tr>
<td style="text-align:center">boolean</td>
<td style="text-align:center">Boolean</td>
</tr>
</tbody>
</table>
<pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Dog</span>
<span class="token punctuation">{</span> 
       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              Object a <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>                <span class="token comment" spellcheck="true">//直接把一个基本数据类型变量赋值给 Object 类型变量</span>

             System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment" spellcheck="true">//输出：true</span>

             <span class="token keyword">if</span><span class="token punctuation">(</span>a <span class="token keyword">instanceof</span> <span class="token class-name">Boolean</span><span class="token punctuation">)</span>
             <span class="token punctuation">{</span>
                  <span class="token keyword">boolean</span> b <span class="token operator">=</span> <span class="token punctuation">(</span>Boolean<span class="token punctuation">)</span>a<span class="token punctuation">;</span>    
                   <span class="token comment" spellcheck="true">/*
                   把 Object 类型变量强制转换为包装类 Boolean 类型
                   再直接赋值给基本数据类型变量
                   */</span>

                  System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//输出：true</span>
             <span class="token punctuation">}</span>
       <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<ul>
<li>自动装箱（Autoboxing）<ul>
<li>可以把一个基本数据类型直接赋值给对应的包装类</li>
<li>可以把一个基本数据类型直接赋值给 Object 类型变量<ul>
<li>利用 Java 向上自动转型特性</li>
<li>Object 类是所有类的父类，子类对象可以直接赋给父类变量</li>
</ul>
</li>
</ul>
</li>
<li>自动拆箱（AutoUnboxing）<ul>
<li>可以把一个包装类对象直接赋值给一个对应的基本数据类型变量</li>
</ul>
</li>
<li>借助自动装箱和自动拆箱功能，开发者可以把基本类型变量“近似”地当作实例对象使用，也可以把包装类的实例对象“近似”地当作基本类型变量使用</li>
</ul>
<pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Dog</span>
<span class="token punctuation">{</span> 
       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
       <span class="token punctuation">{</span>


    String  a  <span class="token operator">=</span>  <span class="token string">"123"</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span>    a1  <span class="token operator">=</span>  Integer<span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment" spellcheck="true">//返回 int 类型的 123 赋值给 int 类型的变量 a1</span>
    <span class="token keyword">int</span>    a2  <span class="token operator">=</span>  Integer<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">//返回 Integer 类型的 123  赋值给 int 类型的变量 a2</span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment" spellcheck="true">//输出：123</span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment" spellcheck="true">//输出：123  </span>

     <span class="token keyword">int</span> A <span class="token operator">=</span> Integer<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment" spellcheck="true">//返回 Integer 类型的 123  赋值给 int 类型的变量 A</span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token comment" spellcheck="true">//输出：123                   </span>

    String  b  <span class="token operator">=</span>  <span class="token string">"3.14"</span><span class="token punctuation">;</span>
    <span class="token keyword">float</span>    b1  <span class="token operator">=</span>  Float<span class="token punctuation">.</span><span class="token function">parseFloat</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//返回 float 类型的 3.14 赋值给 float 类型的变量 b1</span>
    <span class="token keyword">float</span>    b2  <span class="token operator">=</span>  Float<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">//返回 Float 类型的 3.14 赋值给 float 类型的变量 b2</span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>b1<span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment" spellcheck="true">//输出：3.14                 </span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>b2<span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment" spellcheck="true">//输出：3.14                 </span>

    String s1 <span class="token operator">=</span> String<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">2.456f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment" spellcheck="true">//输出 String 类型的 2.456 </span>

    String s2 <span class="token operator">=</span> String<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">5.88</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment" spellcheck="true">//输出 String 类型的 5.88</span>

    String s3 <span class="token operator">=</span> String<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s3<span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment" spellcheck="true">//输出 String 类型的 true</span>

    String s4 <span class="token operator">=</span> <span class="token number">123456789</span> <span class="token operator">+</span> <span class="token string">""</span><span class="token punctuation">;</span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s4<span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment" spellcheck="true">//输出 String 类型的 123456789              </span>
       <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<ul>
<li>Integer.valueOf(String s) <ul>
<li>将字符串参数 s 作为有符号的十进制整数进行解析</li>
<li>将 String 实例对象转化为 Integer 实例对象</li>
<li>返回值为包装类型</li>
</ul>
</li>
<li>Integer.valueOf(int i)<ul>
<li>返回一个表示指定的 int 值的 Integer 实例对象。</li>
<li>返回值为包装类型</li>
</ul>
</li>
<li>Integer.parseInt(String s)<ul>
<li>将字符串参数 s 作为有符号的十进制整数进行解析</li>
<li>将 String 实例对象转化为 int 基本数据类型</li>
<li>返回值为基本数据类型</li>
</ul>
</li>
<li>String.valueOf(…)<ul>
<li>将基本数据类型转换成字符串</li>
</ul>
</li>
<li>基本数据类型 + “”<ul>
<li>将基本数据类型转换成字符串</li>
</ul>
</li>
</ul>
<pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Dog</span>
<span class="token punctuation">{</span> 
       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              Integer i <span class="token operator">=</span> Integer<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i <span class="token operator">></span> <span class="token number">5.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment" spellcheck="true">//输出：true</span>


              Integer a1 <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
              Integer a2 <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a1 <span class="token operator">==</span> a2<span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment" spellcheck="true">//输出：true</span>


              Integer b1 <span class="token operator">=</span> <span class="token number">128</span><span class="token punctuation">;</span>
              Integer b2 <span class="token operator">=</span> <span class="token number">128</span><span class="token punctuation">;</span>
              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>b1 <span class="token operator">==</span> b2<span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment" spellcheck="true">//输出：false</span>

       <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<ul>
<li>包装类的实例对象和基本数据类型的数值进行比较<ul>
<li>实际是直接取出包装类的实例对象所包装的数值和基本数据类型的数值进行比较</li>
</ul>
</li>
<li>两个包装类的实例对象比较<ul>
<li>只有当两个包装类引用指向同一个对象时才会返回 true</li>
</ul>
</li>
<li>系统把一个 -128 ~ 127 之间的整数自动装箱成 Integer 实例对象，并放入一个名为 cache 的数组中缓存起来<ul>
<li>如果以后把一个 -128 ~ 127 之间的整数自动装箱成一个 Integer 实例对象，实际上是直接指向对应的数组元素</li>
<li>因此每次把 -128 ~ 127 之间的同一个整数自动装箱成一个 Integer 实例对象时，永远都是引用 cache 数组的同一个数组元素，所以返回 true</li>
<li>每次把超出 -128 ~ 127 范围的整数自动装箱成一个 Integer 实例对象时，系统总是重新创建一个 Integer 实例对象，所以返回 false</li>
</ul>
</li>
</ul>
<h3 id="to-String"><a href="#to-String" class="headerlink" title="to String"></a>to String</h3><pre class=" language-java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">Hello</span>
<span class="token punctuation">{</span>
      <span class="token keyword">private</span> String name<span class="token punctuation">;</span>

      <span class="token keyword">public</span> <span class="token function">Hello</span><span class="token punctuation">(</span>String name<span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
             <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span>
<span class="token punctuation">{</span>       
       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              Hello h <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Hello</span><span class="token punctuation">(</span><span class="token string">"周邦彦"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment" spellcheck="true">//输出：Hello@9e89d68</span>
              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>h<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment" spellcheck="true">//输出：Hello@9e89d68</span>

              String s1 <span class="token operator">=</span> h            <span class="token operator">+</span>  <span class="token string">""</span><span class="token punctuation">;</span>       
              String s2 <span class="token operator">=</span> h<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span>  <span class="token string">""</span><span class="token punctuation">;</span>  

              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment" spellcheck="true">//输出：Hello@9e89d68</span>
              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment" spellcheck="true">//输出：Hello@9e89d68</span>
       <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre>
<ul>
<li>当程序打印一个内存中的实例对象时，实际上实在打印这个实例对象的 toString() 方法的返回值<ul>
<li>toString() 方法是 Object 类中的一个实例方法</li>
<li>Object 类是所有类的父类，因此所有的 Java 实例对象都具有 toString() 方法</li>
</ul>
</li>
<li>所有的 Java 实例对象都可以和字符串进行连接运算，系统会自动调用 toString() 方法的返回值和字符串进行连接运算</li>
<li>toString() 方法用于对象实例的自我描述，用以告诉外界这个实例对象具有的状态信息<ul>
<li><code>类名 + @ + hashCode</code></li>
<li>不同机器上 <code>@</code> 后面的8位十六进制数字可能不同</li>
</ul>
</li>
</ul>
<pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span>
<span class="token punctuation">{</span>       
       <span class="token keyword">private</span> String title<span class="token punctuation">;</span>

       <span class="token keyword">private</span> String name<span class="token punctuation">;</span>

       <span class="token keyword">private</span> String dynasty<span class="token punctuation">;</span>

       <span class="token keyword">public</span> <span class="token function">HelloWorld</span><span class="token punctuation">(</span>String title <span class="token punctuation">,</span> String name <span class="token punctuation">,</span> String dynasty<span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>title   <span class="token operator">=</span> title<span class="token punctuation">;</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>name    <span class="token operator">=</span> name<span class="token punctuation">;</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>dynasty <span class="token operator">=</span> dynasty<span class="token punctuation">;</span>
       <span class="token punctuation">}</span>

       <span class="token keyword">public</span> String <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              <span class="token keyword">return</span> <span class="token string">"《"</span> <span class="token operator">+</span> title <span class="token operator">+</span> <span class="token string">"》"</span> <span class="token operator">+</span> <span class="token string">'\n'</span> <span class="token operator">+</span> 
                      <span class="token string">"["</span> <span class="token operator">+</span> dynasty <span class="token operator">+</span> <span class="token string">"]"</span> <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">'\n'</span> <span class="token operator">+</span> 
                     <span class="token string">"风情渐老见春羞"</span> <span class="token operator">+</span> <span class="token string">'\n'</span> <span class="token operator">+</span> 
                     <span class="token string">"到处消魂感旧游"</span> <span class="token operator">+</span> <span class="token string">'\n'</span> <span class="token operator">+</span> 
                      <span class="token string">"多谢长条似相识"</span> <span class="token operator">+</span> <span class="token string">'\n'</span> <span class="token operator">+</span> 
                    <span class="token string">"强垂烟态拂人头"</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span> 


       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              HelloWorld h <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HelloWorld</span><span class="token punctuation">(</span><span class="token string">"柳枝"</span> <span class="token punctuation">,</span> <span class="token string">"李煜"</span> <span class="token punctuation">,</span> <span class="token string">"南唐"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token comment" spellcheck="true">/*
              输出：
              《柳枝》
               [唐] 李煜
               风情渐老见春羞
              到处消魂感旧游
               多谢长条似相识
              强垂烟态拂人头
              */</span>
       <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre>
<ul>
<li>可自由重写 toString() 方法<ul>
<li>用于更好地自我描述类的实例对象</li>
</ul>
</li>
<li>通常推荐返回如下格式：<ul>
<li><code>return &quot;类名 + [field = 值1 , field = 值2 , ......]&quot;;</code></li>
</ul>
</li>
</ul>
<h3 id="equals"><a href="#equals" class="headerlink" title="equals"></a>equals</h3><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span>
<span class="token punctuation">{</span>       
       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              <span class="token keyword">int</span>   a <span class="token operator">=</span> <span class="token number">65</span><span class="token punctuation">;</span>
              <span class="token keyword">float</span> b <span class="token operator">=</span> <span class="token number">65.0f</span><span class="token punctuation">;</span>
              <span class="token keyword">char</span>  c <span class="token operator">=</span> <span class="token string">'A'</span><span class="token punctuation">;</span>                         <span class="token comment" spellcheck="true">//A 的 ASCII 码值为65</span>
              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a <span class="token operator">==</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//输出：true</span>
              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a <span class="token operator">==</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//输出：true</span>

              String s1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              String s2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s1 <span class="token operator">==</span> s2<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment" spellcheck="true">//输出：false</span>
              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//输出：true</span>

               Integer a1 <span class="token operator">=</span> Integer<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">129</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
               Integer a2 <span class="token operator">=</span> Integer<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">129</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
               System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a1 <span class="token operator">==</span> a2<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment" spellcheck="true">//输出：false</span>
               System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a1<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//输出：true</span>

              <span class="token comment" spellcheck="true">//System.out.println("Hello" == new EqualTest());</span>
              <span class="token comment" spellcheck="true">/*
              编译错误
              java.lang.String 和 EqualTest 类没有继承关系
              */</span>
       <span class="token punctuation">}</span>
<span class="token punctuation">}</span>




<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span>
<span class="token punctuation">{</span>       
       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              String s1 <span class="token operator">=</span> <span class="token string">"一片芳心千万绪,人间没个安排处"</span><span class="token punctuation">;</span>
              String s2 <span class="token operator">=</span> <span class="token string">"一片芳心千万绪,"</span><span class="token punctuation">;</span>
              String s3 <span class="token operator">=</span> <span class="token string">"人间没个安排处"</span><span class="token punctuation">;</span>

              String s4 <span class="token operator">=</span> <span class="token string">"一片芳心千万绪,"</span> <span class="token operator">+</span> <span class="token string">"人间没个安排处"</span><span class="token punctuation">;</span>
              String s5 <span class="token operator">=</span> <span class="token string">"一片芳心千万绪"</span> <span class="token operator">+</span> <span class="token string">","</span> <span class="token operator">+</span> <span class="token string">"人间没个安排处"</span><span class="token punctuation">;</span>

              String s6 <span class="token operator">=</span> s2 <span class="token operator">+</span> s3<span class="token punctuation">;</span>

              String s7 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">"一片芳心千万绪,人间没个安排处"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s1 <span class="token operator">==</span> s4<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//输出：true</span>
              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s1 <span class="token operator">==</span> s5<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//输出：true</span>
              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s1 <span class="token operator">==</span> s6<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//输出：false</span>
              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s1 <span class="token operator">==</span> s7<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//输出：false</span>

               <span class="token comment" spellcheck="true">/*
               s1 、s4 、s5 在编译器就确定下来，且引用常量池中的同一个字符串对象
               new String() 的字符串是在运行时创建出来的，且被保存在堆内存中，不会放入常量池
               */</span>
       <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<ul>
<li><code>==</code><ul>
<li>两个基本数据类型<ul>
<li>数值（不一定要求数据类型严格相同）相等就返回 true</li>
</ul>
</li>
<li>两个引用数据类型<ul>
<li>指向同一实例对象就返回 true</li>
</ul>
</li>
<li>不可用于比较两个类型上没有继承关系的实例对象</li>
</ul>
</li>
<li><code>Hello</code> <ul>
<li>使用字符串直接量时， JVM 将会使用常量池（constant pool）来管理</li>
<li>常量池专门用于管理在编译时被确定并被保存在已编译的 *.class 字节码文件中的一些数据，包括类、方法、接口中的常量，以及字符串常量</li>
</ul>
</li>
<li><code>new String(&quot;Hello&quot;)</code><ul>
<li>JVM 会先使用常量池来管理 “Hello” 直接量，再调用 String 类的构造器来创建一个新的 String 实例对象，新创建的 String 实例对象被保存在堆内存中</li>
<li>一共产生了两个字符串对象</li>
</ul>
</li>
<li>常量池保证相同的字符串直接量只有一个，不会产生副本<ul>
<li>执行 <code>String a = &quot;Java&quot;;</code> 语句之后，常量池中将缓存一个 <code>&quot;Java&quot;</code> 字符串</li>
<li>执行 <code>String b = &quot;Java&quot;;</code> 语句之后，系统将会让 b 直接指向常量池中的 <code>&quot;Java&quot;</code> 字符串</li>
</ul>
</li>
</ul>
<pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span>
<span class="token punctuation">{</span>       
       <span class="token keyword">private</span> String s1<span class="token punctuation">;</span>
       <span class="token keyword">private</span> String s2<span class="token punctuation">;</span>

       <span class="token keyword">public</span> String <span class="token function">gets1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                                  <span class="token comment" spellcheck="true">//public 修饰的 s1 的 getter </span>
       <span class="token punctuation">{</span>
              <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>s1<span class="token punctuation">;</span>
       <span class="token punctuation">}</span>

       <span class="token keyword">public</span> String <span class="token function">gets2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                                  <span class="token comment" spellcheck="true">//public 修饰的 s2 的 getter </span>
       <span class="token punctuation">{</span>
              <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>s2<span class="token punctuation">;</span>
       <span class="token punctuation">}</span>


       <span class="token keyword">public</span> <span class="token function">HelloWorld</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>


       <span class="token keyword">public</span> <span class="token function">HelloWorld</span><span class="token punctuation">(</span>String s1 <span class="token punctuation">,</span> String s2<span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>s1 <span class="token operator">=</span> s1<span class="token punctuation">;</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>s2 <span class="token operator">=</span> s2<span class="token punctuation">;</span>
       <span class="token punctuation">}</span>


       <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span>Object a<span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">==</span> a<span class="token punctuation">)</span>
              <span class="token punctuation">{</span>
                  <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>

              <span class="token keyword">if</span><span class="token punctuation">(</span>a <span class="token operator">!=</span> null <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> HelloWorld<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>   
               <span class="token comment" spellcheck="true">/*
               a 不为空
               且 a 为 HelloWorld 类型的实例对象
               */</span>
              <span class="token punctuation">{</span>
                  HelloWorld h <span class="token operator">=</span> <span class="token punctuation">(</span>HelloWorld<span class="token punctuation">)</span>a<span class="token punctuation">;</span>

                  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">gets2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>h<span class="token punctuation">.</span><span class="token function">gets2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                  <span class="token punctuation">{</span>
                      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                  <span class="token punctuation">}</span>
              <span class="token punctuation">}</span>

              <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>

       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              HelloWorld h1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HelloWorld</span><span class="token punctuation">(</span><span class="token string">"一点浩然气"</span> <span class="token punctuation">,</span> <span class="token string">"千里快哉风"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              HelloWorld h2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HelloWorld</span><span class="token punctuation">(</span><span class="token string">"一点浩然气"</span> <span class="token punctuation">,</span> <span class="token string">"千里快哉风"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              HelloWorld h3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HelloWorld</span><span class="token punctuation">(</span><span class="token string">"一点浩然气"</span> <span class="token punctuation">,</span> <span class="token string">"千里不留行"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>h1<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>h2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment" spellcheck="true">//s2 相同，输出：true</span>

              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>h1<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>h3<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment" spellcheck="true">//s2 不同，输出：false</span>

              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>h2<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>h3<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment" spellcheck="true">//s2 不同，输出：false</span>
       <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<ul>
<li>equals() 是 Object 类提供的一个实例方法<ul>
<li>因此所有引用变量都可以调用，并判断是否与其他引用变量相等</li>
<li>Object 类提供的 equals() 实例方法和 == 运算符用法一样，比较实例对象的地址</li>
<li>String 类改写的 equals() 实例方法判断标准是：两个字符串所包含的字符序列相同，即返回 true</li>
<li>Integer 类改写的 equals() 实例方法判断标准是：包装类的实例对象所包装的数值是否相等</li>
</ul>
</li>
<li>重写 equals() 实例方法可以提供自定义的相等标准<ul>
<li>高效重写 equals() 实例方法应该满足的几个条件<ul>
<li>自反性<ul>
<li>x.equals(x) 一定返回 true</li>
</ul>
</li>
<li>对称性<ul>
<li>x.equals(y) == y.equals(x)</li>
</ul>
</li>
<li>传递性<ul>
<li>x.equals(y) 返回 true ，y.equals(z) 返回 true ，则 x.equals(z) 一定返回 true</li>
</ul>
</li>
<li>一致性<ul>
<li>如果实例对象 x 、y 用于比较的信息没有改变，则无论调用多少次，x.equals(y) 要么一直是 true ，要么一直是 false</li>
</ul>
</li>
<li>对于任何不是 null 的 x<ul>
<li>x.equals(null) 一定返回 false</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="Singleton"><a href="#Singleton" class="headerlink" title="Singleton"></a>Singleton</h3><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span>
<span class="token punctuation">{</span>       
       <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
               System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"static 修饰的类方法"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>

       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              HelloWorld h <span class="token operator">=</span> null<span class="token punctuation">;</span>           <span class="token comment" spellcheck="true">//定义一个 HelloWorld 类型的变量 h ,并赋值为 null</span>

              h<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token comment" spellcheck="true">/*
              即使实例对象为 null
              依然可以访问它所属类的类成员
              因为底层依旧是委托类本身访问类成员
              如果 null 实例对象访问实例变量和实例方法
              将会引发 NullPointerException 异常
              因为 null 实例对象根本不存在
              那么其实例变量和实例方法自然也不存在
              输出：
              static 修饰的类方法
              */</span>
       <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<ul>
<li>Java 类里只能包含成员变量、方法、构造器、初始化块、内部类（接口、枚举）5种成员<ul>
<li>static 不能修饰构造器，可以修饰其他四种</li>
</ul>
</li>
<li>当系统第一次准备使用类时，会为该类的类变量分配内存空间，直到该类被卸载，类变量所占的内存空间才会被系统的垃圾回收机制回收</li>
<li>在类的初始化阶段，系统会调用该类的静态初始化块来对类进行初始化<ul>
<li>一旦该类初始化结束后，静态初始化块将永远不会获得执行的机会</li>
<li>当类初始化完成后，类变量也初始化完成</li>
</ul>
</li>
<li>类成员不能访问实例成员<ul>
<li>类成员的作用域比实例成员的作用域大</li>
<li>类成员初始化完成，可能实例成员还未曾初始化</li>
<li>允许类成员访问实例成员将引起大量错误</li>
</ul>
</li>
</ul>
<pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span>
<span class="token punctuation">{</span>       
       <span class="token keyword">private</span> <span class="token keyword">static</span> HelloWorld A<span class="token punctuation">;</span>                  <span class="token comment" spellcheck="true">//设置为 static HelloWorld</span>

       <span class="token keyword">private</span> <span class="token function">HelloWorld</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>                        <span class="token comment" spellcheck="true">//设置为 private</span>

       <span class="token keyword">public</span> <span class="token keyword">static</span> HelloWorld <span class="token function">getA</span><span class="token punctuation">(</span><span class="token punctuation">)</span>               <span class="token comment" spellcheck="true">//设置为 public static HelloWorld</span>
       <span class="token punctuation">{</span>
              <span class="token keyword">if</span><span class="token punctuation">(</span>A <span class="token operator">==</span> null<span class="token punctuation">)</span>
              <span class="token punctuation">{</span>
                   A <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HelloWorld</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>

              <span class="token keyword">return</span> A<span class="token punctuation">;</span>
       <span class="token punctuation">}</span>

       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              HelloWorld h1 <span class="token operator">=</span> HelloWorld<span class="token punctuation">.</span><span class="token function">getA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              HelloWorld h2 <span class="token operator">=</span> HelloWorld<span class="token punctuation">.</span><span class="token function">getA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>h1 <span class="token operator">==</span> h2<span class="token punctuation">)</span><span class="token punctuation">;</span>       
               <span class="token comment" spellcheck="true">/*
               两次产生的实例对象 h1 、h2
               实际上是同一个对象
               输出：true
               */</span>
       <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<ul>
<li>大部分时候把类的构造器定义成 public 访问权限，允许任何类自由创建该类的对象<ul>
<li>但有时候允许其他类自由地创建该类的对象没有任何意义</li>
<li>且频繁地创建对象、回收对象带来的系统开销，会导致系统性能下降</li>
</ul>
</li>
<li>只能创建一个实例对象的类，称为单例类<ul>
<li>用 private 修饰构造器</li>
<li>把该类的所有构造器隐藏起来</li>
</ul>
</li>
<li>根据良好的封装原理，需要为这个隐藏的构造器提供一个 public 方法创建该类的实例对象<ul>
<li>因为调用该方法之间实例对象还不存在，所以只能使用类本身调用<ul>
<li>该方法必须设置为 public static class</li>
</ul>
</li>
<li>该类还必须使用一个成员变量缓存已经创建的类，用以保证只能创建一个实例对象<ul>
<li>因为该成员变量需要被上述的 public static class 方法访问</li>
<li>该成员变量必须设置为 static class</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="final"><a href="#final" class="headerlink" title="final"></a>final</h3><ul>
<li>final 可修饰类、成员变量和方法，表示这些类、成员变量和方法一旦获得了初始值就不可改变<ul>
<li>既可以修饰类变量和实例变量，也可以修饰局部变量和形参</li>
</ul>
</li>
<li>final 修饰的方法不可被重写<ul>
<li>Object 类中的 getClass() 就是 final 方法，不可以被重写</li>
</ul>
</li>
<li>final 修饰的方法可以被重载</li>
<li>final 修饰的类不可以有子类<ul>
<li>java.lang.Math 就是 final 类，不可以有子类</li>
</ul>
</li>
</ul>
<pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span>
<span class="token punctuation">{</span>       
       <span class="token keyword">final</span> <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>              <span class="token comment" spellcheck="true">//声明定义处赋初始值</span>

       <span class="token keyword">final</span> String b<span class="token punctuation">;</span>               <span class="token comment" spellcheck="true">//普通初始化块中赋初始值</span>

       <span class="token keyword">final</span> <span class="token keyword">int</span> c<span class="token punctuation">;</span>                  <span class="token comment" spellcheck="true">//构造器中赋初始值</span>

       <span class="token keyword">final</span> <span class="token keyword">static</span> <span class="token keyword">double</span> d<span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//静态初始化块中赋初始值</span>

       <span class="token comment" spellcheck="true">//final char ch;              //编译错误：没有显式赋初始值</span>

       <span class="token punctuation">{</span>
             b <span class="token operator">=</span> <span class="token string">"helloW"</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>

       <span class="token keyword">static</span>
       <span class="token punctuation">{</span>
              d <span class="token operator">=</span> <span class="token number">5.6</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>

       <span class="token keyword">public</span> <span class="token function">HelloWorld</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              c <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>

       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              HelloWorld h1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HelloWorld</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>h1<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment" spellcheck="true">//输出：6</span>
              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>h1<span class="token punctuation">.</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment" spellcheck="true">//输出：hello</span>
              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>h1<span class="token punctuation">.</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment" spellcheck="true">//输出：5</span>
              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>h1<span class="token punctuation">.</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment" spellcheck="true">//输出：5.6</span>
       <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<ul>
<li>final 修饰的成员变量一旦有了初始值，就不能再被重新赋值</li>
<li>成员变量是随类初始化或实例对象初始化而初始化的<ul>
<li>当类初始化和创建实例对象时，系统会为类变量和实例变量分配内存，并分配默认值</li>
<li>当执行静态初始化块或声明定义处可以对类变量赋初始值<ul>
<li>实例变量不能在静态初始化块中指定初始值</li>
</ul>
</li>
<li>当执行普通初始化块、声明定义处和构造器时可以对实例变量赋初始值<ul>
<li>如果在普通初始化块中已经为实例变量指定了初始值，就不能在构造器中指定初始值了</li>
<li>类变量不能在普通初始化块中指定初始值，因为类变量在类初始化阶段已经被初始化了，普通初始化块不能对其重新赋值</li>
</ul>
</li>
<li>如果没有自定义初始值，且没有在静态或普通初始化块、构造器中为成员变量赋值，这些 final 修饰的额成员变量将一直都是系统默认分配的0、0.0、’\u0000’、false、null，这些成员变量也就失去了意义<ul>
<li>故规定：final 修饰的成员变量必须由程序员显式地指定初始值</li>
</ul>
</li>
</ul>
</li>
<li>普通方法中不能为 final 修饰的成员变量赋值</li>
</ul>
<pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span>
<span class="token punctuation">{</span>       
       <span class="token keyword">final</span> <span class="token keyword">int</span> A<span class="token punctuation">;</span>

       <span class="token punctuation">{</span>
             <span class="token comment" spellcheck="true">//System.out.println(A);      //编译错误，还未初始化实例变量 A</span>

             <span class="token function">printA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                     <span class="token comment" spellcheck="true">//输出：0</span>

             A <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>

             System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//输出：100</span>
       <span class="token punctuation">}</span>

       <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">printA</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
               System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>

       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              <span class="token keyword">new</span> <span class="token class-name">HelloWorld</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<ul>
<li>final 修饰的成员变量在显式初始化之前不能直接访问</li>
<li>final 修饰的成员变量在显式初始化之前能通过方法来访问，访问得到的是系统默认值</li>
</ul>
<pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span>
<span class="token punctuation">{</span>       
       <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token keyword">int</span> a<span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              <span class="token comment" spellcheck="true">//a = 10;                  //不能对 final 修饰的形参赋值</span>
       <span class="token punctuation">}</span>

       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              <span class="token keyword">final</span> String s <span class="token operator">=</span> <span class="token string">"诸子百家，唯我纵横"</span><span class="token punctuation">;</span>

              <span class="token keyword">final</span> <span class="token keyword">double</span> b<span class="token punctuation">;</span>

              b <span class="token operator">=</span> <span class="token number">5.68</span><span class="token punctuation">;</span>

              <span class="token comment" spellcheck="true">//System.out.println(a);      //编译错误，找不到变量 a</span>
              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//输出：5.68</span>
              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//输出：诸子百家，唯我纵横</span>
       <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<ul>
<li>系统不会对局部变量进行初始化，局部变量必须由程序员显式初始化</li>
<li>final 修饰的局部变量，可以在声明定义处赋值，也可以在声明定义之后赋值，且只能赋值一次</li>
<li>final 修饰的形参由调用该方法时传入的实参值来完成初始化</li>
</ul>
<pre class=" language-java"><code class="language-java"><span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Arrays<span class="token punctuation">;</span>           <span class="token comment" spellcheck="true">//引入 Arrays 类</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span>
<span class="token punctuation">{</span>       
       <span class="token keyword">private</span> <span class="token keyword">int</span> a<span class="token punctuation">;</span>

       <span class="token keyword">public</span> <span class="token function">HelloWorld</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

       <span class="token keyword">public</span> <span class="token function">HelloWorld</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> a<span class="token punctuation">;</span>
       <span class="token punctuation">}</span>

       <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">seta</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span>                                 <span class="token comment" spellcheck="true">//public 修饰的 setter </span>
       <span class="token punctuation">{</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> a<span class="token punctuation">;</span>
       <span class="token punctuation">}</span>

       <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">geta</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                                       <span class="token comment" spellcheck="true">//public 修饰的 getter </span>
       <span class="token punctuation">{</span>
              <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">;</span>
       <span class="token punctuation">}</span>

       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              <span class="token keyword">final</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> A <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">5</span> <span class="token punctuation">,</span> <span class="token number">15</span> <span class="token punctuation">,</span> <span class="token number">10</span> <span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">;</span>              <span class="token comment" spellcheck="true">//A 是一个引用变量</span>
              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment" spellcheck="true">//输出：[5 , 15 , 10 , 20]</span>

              Arrays<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">;</span>                                  <span class="token comment" spellcheck="true">//数组排序</span>
              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment" spellcheck="true">//输出：[5 , 10 , 15 , 20]</span>

              A<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">19</span><span class="token punctuation">;</span>
              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment" spellcheck="true">//输出：[5 , 10 , 19 , 20]</span>

              <span class="token comment" spellcheck="true">//A = null;                                      //编译错误</span>

              <span class="token keyword">final</span> HelloWorld h <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HelloWorld</span><span class="token punctuation">(</span><span class="token number">8888</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">//h 是一个引用变量</span>
              h<span class="token punctuation">.</span><span class="token function">seta</span><span class="token punctuation">(</span><span class="token number">7777</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>h<span class="token punctuation">.</span><span class="token function">geta</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment" spellcheck="true">//输出：7777</span>

              <span class="token comment" spellcheck="true">//h = null;                                      //编译错误</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<ul>
<li>fianl 修饰的基本数据类型变量不能被改变</li>
<li>final 修饰的引用数据类型变量只保证所引用的地址不能被改变<ul>
<li>即一直引用同一个实例对象</li>
<li>但可以改变这个实例对象的内容</li>
</ul>
</li>
</ul>
<pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span>
<span class="token punctuation">{</span>       
       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              <span class="token keyword">final</span> <span class="token keyword">int</span>    a1  <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
              <span class="token keyword">final</span> <span class="token keyword">int</span>    a2  <span class="token operator">=</span> <span class="token number">5</span> <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">;</span>
              <span class="token keyword">final</span> <span class="token keyword">double</span> a3  <span class="token operator">=</span> <span class="token number">1.2</span> <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">;</span>
              <span class="token keyword">final</span> String s1  <span class="token operator">=</span> <span class="token string">"一刀"</span> <span class="token operator">+</span> <span class="token string">"999"</span><span class="token punctuation">;</span>
              <span class="token keyword">final</span> String s2  <span class="token operator">=</span> <span class="token string">"一刀"</span> <span class="token operator">+</span> String<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">999</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s1 <span class="token operator">==</span> <span class="token string">"一刀999"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token comment" spellcheck="true">/*
              s1 是宏变量
              系统会直接将 s1 换成"一刀999"
              输出：true
              */</span>

              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s2 <span class="token operator">==</span> <span class="token string">"一刀999"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token comment" spellcheck="true">/*
              s2 需要调用 String 类方法，因此编译器无法在编译时确定 s2 的值
              s2 不会被当作宏变量
              输出：
              false
              */</span>              


              String S1 <span class="token operator">=</span> <span class="token string">"天下兴亡匹夫有责"</span><span class="token punctuation">;</span>
              String S2 <span class="token operator">=</span> <span class="token string">"天下兴亡"</span> <span class="token operator">+</span> <span class="token string">"匹夫有责"</span><span class="token punctuation">;</span>
              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>S1 <span class="token operator">==</span> S2<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token comment" spellcheck="true">/*
              S2 可以在编译时就确定下来
              将直接引用常量池中已经存在的 "天下兴亡匹夫有责" 字符串
              输出：
              true
              */</span>

              String S3  <span class="token operator">=</span> <span class="token string">"天下兴亡"</span><span class="token punctuation">;</span>
              String S4  <span class="token operator">=</span> <span class="token string">"匹夫有责"</span><span class="token punctuation">;</span>
              String S5  <span class="token operator">=</span> S3 <span class="token operator">+</span> S4<span class="token punctuation">;</span>
              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>S1 <span class="token operator">==</span> S5<span class="token punctuation">)</span><span class="token punctuation">;</span>
              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>S2 <span class="token operator">==</span> S5<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token comment" spellcheck="true">/*
              编译器无法在编译时就确定 S5 的值
              也就无法让 S5 直接指向常量池中的 "天下兴亡匹夫有责" 字符串
              输出：
              false
              false
              */</span>

              <span class="token keyword">final</span> String S7  <span class="token operator">=</span> <span class="token string">"天下兴亡"</span><span class="token punctuation">;</span>
              <span class="token keyword">final</span> String S8  <span class="token operator">=</span> <span class="token string">"匹夫有责"</span><span class="token punctuation">;</span>
                    String S9  <span class="token operator">=</span> S7 <span class="token operator">+</span> S8<span class="token punctuation">;</span>
              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>S1 <span class="token operator">==</span> S9<span class="token punctuation">)</span><span class="token punctuation">;</span>
              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>S2 <span class="token operator">==</span> S9<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token comment" spellcheck="true">/*
              对 S7、S8 执行宏替换
              S7、S8 为宏变量
              S9 可以在编译时就确定下来
              将直接引用常量池中已经存在的 "天下兴亡匹夫有责" 字符串
              输出：
              true
              true
              */</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<ul>
<li>宏变量与宏替换<ul>
<li>final 修饰</li>
<li>声明定义处指定初始值</li>
<li>初始值可以在编译时就被确定下来</li>
</ul>
</li>
<li>系统会把程序中所有用到宏变量的地方直接替换成该变量的值</li>
</ul>
<pre class=" language-java"><code class="language-java">String s1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
String s2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s1 <span class="token operator">==</span> s2<span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment" spellcheck="true">//输出：false</span>
System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//输出：true</span>

System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//输出：69609650</span>
System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s2<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//输出：69609650</span>




<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span>
<span class="token punctuation">{</span>       

              <span class="token keyword">private</span> <span class="token keyword">final</span> String s1<span class="token punctuation">;</span>
              <span class="token keyword">private</span> <span class="token keyword">final</span> String s2<span class="token punctuation">;</span>

              <span class="token keyword">public</span> <span class="token function">HelloWorld</span><span class="token punctuation">(</span><span class="token punctuation">)</span>         <span class="token comment" spellcheck="true">//构造器里初始化两个实例变量</span>
              <span class="token punctuation">{</span>
                     <span class="token keyword">this</span><span class="token punctuation">.</span>s1 <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
                     <span class="token keyword">this</span><span class="token punctuation">.</span>s2 <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>

              <span class="token keyword">public</span> <span class="token function">HelloWorld</span><span class="token punctuation">(</span>String s1 <span class="token punctuation">,</span> String s2<span class="token punctuation">)</span>
              <span class="token punctuation">{</span>
                     <span class="token keyword">this</span><span class="token punctuation">.</span>s1 <span class="token operator">=</span> s1<span class="token punctuation">;</span>
                     <span class="token keyword">this</span><span class="token punctuation">.</span>s2 <span class="token operator">=</span> s2<span class="token punctuation">;</span>
              <span class="token punctuation">}</span>

              <span class="token keyword">public</span> String <span class="token function">gets1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>               <span class="token comment" spellcheck="true">//仅为两个实例变量提供 getter 方法</span>
              <span class="token punctuation">{</span>
                     <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>s1<span class="token punctuation">;</span>
              <span class="token punctuation">}</span>

              <span class="token keyword">public</span> String <span class="token function">gets2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>               <span class="token comment" spellcheck="true">//仅为两个实例变量提供 getter 方法</span>
              <span class="token punctuation">{</span> 
                     <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>s2<span class="token punctuation">;</span>
              <span class="token punctuation">}</span>

              <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span>Object obj<span class="token punctuation">)</span>   <span class="token comment" spellcheck="true">//重写 equals() 方法</span>
              <span class="token punctuation">{</span>
                     <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">==</span> obj<span class="token punctuation">)</span>
                     <span class="token punctuation">{</span>
                          <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                     <span class="token punctuation">}</span>

                     <span class="token keyword">if</span><span class="token punctuation">(</span>obj <span class="token operator">!=</span> null <span class="token operator">&amp;&amp;</span> obj<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> HelloWorld<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
                     <span class="token punctuation">{</span>
                            HelloWorld h <span class="token operator">=</span> <span class="token punctuation">(</span>HelloWorld<span class="token punctuation">)</span>obj<span class="token punctuation">;</span>

                            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">gets1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>h<span class="token punctuation">.</span><span class="token function">gets1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">gets2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>h<span class="token punctuation">.</span><span class="token function">gets2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                            <span class="token punctuation">{</span>
                                   <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span>
                     <span class="token punctuation">}</span>

                     <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>

              <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
              <span class="token punctuation">{</span>
                     <span class="token keyword">return</span> s1<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> s2<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">31</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>

              <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
              <span class="token punctuation">{</span>
                     HelloWorld h1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HelloWorld</span><span class="token punctuation">(</span><span class="token string">"想剑指三秦，君王得意"</span> <span class="token punctuation">,</span> <span class="token string">"一战东归"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                     HelloWorld h2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HelloWorld</span><span class="token punctuation">(</span><span class="token string">"想剑指三秦，君王得意"</span> <span class="token punctuation">,</span> <span class="token string">"一战东归"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                     HelloWorld h3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HelloWorld</span><span class="token punctuation">(</span><span class="token string">"想剑指三秦,君王得意"</span> <span class="token punctuation">,</span> <span class="token string">"一战东归"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                     System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>h1<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>h2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                      <span class="token comment" spellcheck="true">//输出：true</span>
                     System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>h1<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>h3<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                      <span class="token comment" spellcheck="true">//输出：false</span>
                     System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>h2<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>h3<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                      <span class="token comment" spellcheck="true">//输出：false</span>

                     System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>h1<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> h2<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//输出：true     </span>
                     System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>h1<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> h3<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//输出：false</span>
                     System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>h2<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> h3<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//输出：false</span>
              <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">/*
无法修改 HelloWorld 实例对象的 s1 和 s2
*/</span>
</code></pre>
<ul>
<li>不可变类<ul>
<li>实例对象的实例变量不可变</li>
<li>private final 修饰成员变量<ul>
<li>仅提供 getter() 方法</li>
<li>不提供 setter() 方法</li>
</ul>
</li>
<li>提供带参数构造器，根据传入参数来初始化成员变量</li>
<li>如有必要，重写 Object 类的 equals() 方法和 hashCode() 方法<ul>
<li>保证两个用 equals() 方法判断为相等的实例对象，用 hashCode() 方法也判断相等<ul>
<li>java.lang.String 类重写的 equals() 和 hashCode() 都是根据实例对象里的字符序列作为相等的判断标准</li>
</ul>
</li>
</ul>
</li>
<li>不可变类的实例对象在整个生命周期中永远处于初始化时的状态</li>
</ul>
</li>
<li>Java 提供的8个包装类和 java.lang.String 都是不可变类</li>
</ul>
<pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//失败的不可变类</span>
<span class="token keyword">class</span> <span class="token class-name">Hello</span>
<span class="token punctuation">{</span>       
       <span class="token keyword">private</span> String s1<span class="token punctuation">;</span>
       <span class="token keyword">private</span> String s2<span class="token punctuation">;</span>

       <span class="token keyword">public</span> <span class="token function">Hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

       <span class="token keyword">public</span> <span class="token function">Hello</span><span class="token punctuation">(</span>String s1 <span class="token punctuation">,</span> String s2<span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>s1 <span class="token operator">=</span> s1<span class="token punctuation">;</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>s2 <span class="token operator">=</span> s2<span class="token punctuation">;</span>
       <span class="token punctuation">}</span>

       <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sets1</span><span class="token punctuation">(</span>String s1<span class="token punctuation">)</span>                            <span class="token comment" spellcheck="true">//public 修饰的 s1 的 setter </span>
       <span class="token punctuation">{</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>s1 <span class="token operator">=</span> s1<span class="token punctuation">;</span>
       <span class="token punctuation">}</span>

       <span class="token keyword">public</span> String <span class="token function">gets1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                                      <span class="token comment" spellcheck="true">//public 修饰的 s1 的 getter </span>
       <span class="token punctuation">{</span>
              <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>s1<span class="token punctuation">;</span>
       <span class="token punctuation">}</span>

       <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sets2</span><span class="token punctuation">(</span>String s2<span class="token punctuation">)</span>                            <span class="token comment" spellcheck="true">//public 修饰的 s2 的 setter </span>
       <span class="token punctuation">{</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>s2 <span class="token operator">=</span> s2<span class="token punctuation">;</span>
       <span class="token punctuation">}</span>

       <span class="token keyword">public</span> String <span class="token function">gets2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                                      <span class="token comment" spellcheck="true">//public 修饰的 s2 的 getter </span>
       <span class="token punctuation">{</span>
              <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>s2<span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span>
<span class="token punctuation">{</span>
       <span class="token keyword">private</span> <span class="token keyword">final</span> Hello s<span class="token punctuation">;</span>

       <span class="token keyword">public</span> <span class="token function">HelloWorld</span><span class="token punctuation">(</span>Hello s<span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>s <span class="token operator">=</span> s<span class="token punctuation">;</span>
       <span class="token punctuation">}</span>

       <span class="token keyword">public</span> Hello <span class="token function">gets</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>s<span class="token punctuation">;</span>
       <span class="token punctuation">}</span>

       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              Hello      h  <span class="token operator">=</span>  <span class="token keyword">new</span> <span class="token class-name">Hello</span><span class="token punctuation">(</span><span class="token string">"一编书是帝王师"</span> <span class="token punctuation">,</span> <span class="token string">"辛弃疾"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

              HelloWorld H  <span class="token operator">=</span>  <span class="token keyword">new</span> <span class="token class-name">HelloWorld</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">;</span>

              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>H<span class="token punctuation">.</span><span class="token function">gets</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">gets1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">//输出：一编书是帝王师</span>

              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>H<span class="token punctuation">.</span><span class="token function">gets</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">gets2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">//输出：辛弃疾</span>

              h<span class="token punctuation">.</span><span class="token function">sets1</span><span class="token punctuation">(</span><span class="token string">"小试去征西"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
               <span class="token comment" spellcheck="true">/*
              HelloWorld 类（不可变类）的实例变量 H 引用了 Hello 类（可变类）的实例对象
              导致 HelloWorld 类的实例对象的 s1 发生改变
              也就违背了设计 HelloWorld 类的初衷
              */</span>

              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>H<span class="token punctuation">.</span><span class="token function">gets</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">gets1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">//输出：小试去征西</span>
       <span class="token punctuation">}</span>
<span class="token punctuation">}</span>




<span class="token comment" spellcheck="true">//改进</span>
<span class="token keyword">class</span> <span class="token class-name">Hello</span>
<span class="token punctuation">{</span>       
       <span class="token keyword">private</span> String s1<span class="token punctuation">;</span>
       <span class="token keyword">private</span> String s2<span class="token punctuation">;</span>

       <span class="token keyword">public</span> <span class="token function">Hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

       <span class="token keyword">public</span> <span class="token function">Hello</span><span class="token punctuation">(</span>String s1 <span class="token punctuation">,</span> String s2<span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>s1 <span class="token operator">=</span> s1<span class="token punctuation">;</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>s2 <span class="token operator">=</span> s2<span class="token punctuation">;</span>
       <span class="token punctuation">}</span>

       <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sets1</span><span class="token punctuation">(</span>String s1<span class="token punctuation">)</span>                            <span class="token comment" spellcheck="true">//public 修饰的 s1 的 setter </span>
       <span class="token punctuation">{</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>s1 <span class="token operator">=</span> s1<span class="token punctuation">;</span>
       <span class="token punctuation">}</span>

       <span class="token keyword">public</span> String <span class="token function">gets1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                                      <span class="token comment" spellcheck="true">//public 修饰的 s1 的 getter </span>
       <span class="token punctuation">{</span>
              <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>s1<span class="token punctuation">;</span>
       <span class="token punctuation">}</span>

       <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sets2</span><span class="token punctuation">(</span>String s2<span class="token punctuation">)</span>                            <span class="token comment" spellcheck="true">//public 修饰的 s2 的 setter </span>
       <span class="token punctuation">{</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>s2 <span class="token operator">=</span> s2<span class="token punctuation">;</span>
       <span class="token punctuation">}</span>

       <span class="token keyword">public</span> String <span class="token function">gets2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                                      <span class="token comment" spellcheck="true">//public 修饰的 s2 的 getter </span>
       <span class="token punctuation">{</span>
              <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>s2<span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span>
<span class="token punctuation">{</span>
       <span class="token keyword">private</span> <span class="token keyword">final</span> Hello s<span class="token punctuation">;</span>

       <span class="token keyword">public</span> <span class="token function">HelloWorld</span><span class="token punctuation">(</span>Hello s<span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Hello</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">gets1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">,</span> s<span class="token punctuation">.</span><span class="token function">gets2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token comment" spellcheck="true">/*
              设置HelloWorld 的实例变量 s 为临时创建的 Hello 对象
              该对象的 s1、s2 和传入的 s 参数的 s1、s2 相同
              */</span>
       <span class="token punctuation">}</span>

       <span class="token keyword">public</span> Hello <span class="token function">gets</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Hello</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">gets1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">,</span> s<span class="token punctuation">.</span><span class="token function">gets2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token comment" spellcheck="true">/*
              返回一个匿名对象
              该对象的 s1、s2 与 HelloWorld 的实例变量 s 的 s1、s2 相同
              并没有直接返回 HelloWorld 的实例变量 s 
              */</span>
       <span class="token punctuation">}</span>

       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              Hello      h  <span class="token operator">=</span>  <span class="token keyword">new</span> <span class="token class-name">Hello</span><span class="token punctuation">(</span><span class="token string">"一编书是帝王师"</span> <span class="token punctuation">,</span> <span class="token string">"辛弃疾"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

              HelloWorld H  <span class="token operator">=</span>  <span class="token keyword">new</span> <span class="token class-name">HelloWorld</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">;</span>

              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>H<span class="token punctuation">.</span><span class="token function">gets</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">gets1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">//输出：一编书是帝王师</span>

              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>H<span class="token punctuation">.</span><span class="token function">gets</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">gets2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">//输出：辛弃疾</span>

              h<span class="token punctuation">.</span><span class="token function">sets1</span><span class="token punctuation">(</span><span class="token string">"小试去征西"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token comment" spellcheck="true">/*
              此处的 s1 将无法改变
              */</span>

              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>H<span class="token punctuation">.</span><span class="token function">gets</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">gets1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">//输出：一编书是帝王诗</span>

               System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>h<span class="token punctuation">.</span><span class="token function">gets1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token comment" spellcheck="true">//输出：小试去征西</span>
              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>h<span class="token punctuation">.</span><span class="token function">gets2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token comment" spellcheck="true">//输出：辛弃疾</span>
       <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<ul>
<li>可变类<ul>
<li>实例对象的实例变量可变</li>
<li>特别是 JavaBean ，其实例变量总是提供了 setter 方法和 getter 方法</li>
</ul>
</li>
<li>当创建不可变类时，如果它包含的成员变量的类型是可变的，那么其实例对象的成员变量的值依旧是可变的，这个不可变类是失败的<ul>
<li>如果引用类型的成员变量的类是可变的，就必须采取必要的措施，来保护该成员变量所引用的对象不会被修改</li>
</ul>
</li>
</ul>
<pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span>
<span class="token punctuation">{</span>
       <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> MAX_SIZE <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//数组长度                               </span>

       <span class="token keyword">private</span> <span class="token keyword">static</span> HelloWorld<span class="token punctuation">[</span><span class="token punctuation">]</span> cache
                <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HelloWorld</span><span class="token punctuation">[</span>MAX_SIZE<span class="token punctuation">]</span><span class="token punctuation">;</span>          <span class="token comment" spellcheck="true">//使用数组来缓存已有的实例</span>

       <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> pos <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>                  
       <span class="token comment" spellcheck="true">/*
       记录缓存的实例在缓存中的位置
       cache[pos - 1] 是最新的缓存实例
       */</span>

       <span class="token keyword">private</span> <span class="token keyword">final</span> String s<span class="token punctuation">;</span>

       <span class="token keyword">private</span> <span class="token function">HelloWorld</span><span class="token punctuation">(</span>String s<span class="token punctuation">)</span>                 <span class="token comment" spellcheck="true">//private 修饰的构造器被隐藏</span>
       <span class="token punctuation">{</span>
               <span class="token keyword">this</span><span class="token punctuation">.</span>s <span class="token operator">=</span> s<span class="token punctuation">;</span>
       <span class="token punctuation">}</span>

       <span class="token keyword">public</span> String <span class="token function">gets</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>s<span class="token punctuation">;</span>
       <span class="token punctuation">}</span>

       <span class="token keyword">public</span> <span class="token keyword">static</span> HelloWorld <span class="token function">valueOf</span><span class="token punctuation">(</span>String s<span class="token punctuation">)</span>                    
       <span class="token comment" spellcheck="true">/*
       通过 HelloWorld 类的 valueOf 方法来生成对象
       能控制 HelloWorld 类的实例对象的个数
       */</span>
       <span class="token punctuation">{</span>
              <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> MAX_SIZE <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>         <span class="token comment" spellcheck="true">//遍历已经缓存的对象</span>
              <span class="token punctuation">{</span>
                  <span class="token keyword">if</span><span class="token punctuation">(</span>cache<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> null <span class="token operator">&amp;&amp;</span> cache<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">gets</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span>
                  <span class="token punctuation">{</span>
                      <span class="token keyword">return</span> cache<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>           
                        <span class="token comment" spellcheck="true">/*
                        如果数组中已缓存有相同的实例对象
                        直接返回该缓存的实例对象
                        */</span>
                  <span class="token punctuation">}</span>
              <span class="token punctuation">}</span>

              <span class="token keyword">if</span><span class="token punctuation">(</span>pos <span class="token operator">==</span> MAX_SIZE<span class="token punctuation">)</span>                         <span class="token comment" spellcheck="true">//缓存池已满，先进先出</span>
              <span class="token punctuation">{</span>
                  cache<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HelloWorld</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>                   
                    <span class="token comment" spellcheck="true">/*
                    新创建的实例对象覆盖第一个缓存的实例对象
                  */</span>
                  pos <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>                                <span class="token comment" spellcheck="true">//把 pos 设置为1</span>
              <span class="token punctuation">}</span>

              <span class="token keyword">else</span>
              <span class="token punctuation">{</span>
                  cache<span class="token punctuation">[</span>pos<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HelloWorld</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>        
                    <span class="token comment" spellcheck="true">/*
                    缓存池未满
                    把新创建的实例对象缓存起来
                    pos 加1
                    */</span>
              <span class="token punctuation">}</span>

              <span class="token keyword">return</span> cache<span class="token punctuation">[</span>pos <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                       <span class="token comment" spellcheck="true">//返回新创建的实例对象</span>
       <span class="token punctuation">}</span>

       <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span>Object obj<span class="token punctuation">)</span>                    <span class="token comment" spellcheck="true">//重写 equals() 方法</span>
       <span class="token punctuation">{</span>
              <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">==</span> obj<span class="token punctuation">)</span>
              <span class="token punctuation">{</span>
                  <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>

              <span class="token keyword">if</span><span class="token punctuation">(</span>obj <span class="token operator">!=</span> null <span class="token operator">&amp;&amp;</span> obj<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> HelloWorld<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
              <span class="token punctuation">{</span>
                  HelloWorld h <span class="token operator">=</span> <span class="token punctuation">(</span>HelloWorld<span class="token punctuation">)</span>obj<span class="token punctuation">;</span>

                  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>s<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>h<span class="token punctuation">.</span><span class="token function">gets</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>

              <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>

       <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>s<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>

       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              HelloWorld h1 <span class="token operator">=</span> HelloWorld<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

              HelloWorld h2 <span class="token operator">=</span> HelloWorld<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>h1 <span class="token operator">==</span> h2<span class="token punctuation">)</span><span class="token punctuation">;</span>             
              <span class="token comment" spellcheck="true">/*
              h2 创建时
              缓存池中已存在相同的 h1
              直接将 h1 返回赋值给 h2
              输出：true  
              */</span>
       <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<ul>
<li>缓存实例的不可变类<ul>
<li>如果程序经常需要使用相同的不可变类实例对象，则应该考虑缓存这种不可变类的实例对象</li>
</ul>
</li>
<li>缓存是软件设计中的一个非常有用的模式</li>
</ul>
<pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span>
<span class="token punctuation">{</span>
       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              Integer a1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        
              <span class="token comment" spellcheck="true">/*
              创建新的 Integer 实例对象
              提示：
              该构造器已过时
              */</span>
              Integer a2 <span class="token operator">=</span> Integer<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//创建新的 Integer 实例对象</span>
              Integer a3 <span class="token operator">=</span> Integer<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//直接从缓存中取出 Integer 实例对象 a2 赋值给 a3</span>

              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a1 <span class="token operator">==</span> a2<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">//输出：false</span>
              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a2 <span class="token operator">==</span> a3<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">//输出：true</span>

              Integer b1 <span class="token operator">=</span> Integer<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//Integer 只缓存-128 ~ 127之间的实例对象</span>
              Integer b2 <span class="token operator">=</span> Integer<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//Integer 只缓存-128 ~ 127之间的实例对象</span>

              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>b1 <span class="token operator">==</span> b2<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">//输出：false</span>
       <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<ul>
<li>java.lang.Integer 类缓存处理策略<ul>
<li>采用 new 构造器创建 Integer 实例对象，每次会产生新的 Integer 实例对象<ul>
<li>Java 9 已经将该构造器标记为过时</li>
</ul>
</li>
<li>采用 valueOf() 方法创建 Integer 实例对象，缓存了-128 ~ 127之间的实例对象</li>
</ul>
</li>
</ul>

                </div>
                <hr/>

                <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">

<div id="article-share">
    
    <div class="social-share" data-disabled="qzone" data-wechat-qrcode-helper="<p>微信里点“发现”->“扫一扫”二维码便可查看分享。</p>"></div>
    
</div>

<script src="/libs/share/js/social-share.min.js"></script>

                <div class="reprint">
                    <p>
                        <span class="reprint-tip">转载请注明: </span>
                        <a href="https://achillesprime.github.io" class="b-link-green">AchillesPrime</a>
                        <i class="fa fa-angle-right fa-lg fa-fw text-color"></i>
                        <a href="/2018/10/11/Java-Foundation-E/" class="b-link-green">Java Foundation.E</a>
                    </p>
                </div>
            </div>
        </div>

        

        

        

<article id="articles" class="container prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up" data-aos="fade-up">
            <div class="article-badge left-badge text-color">本篇</div>
            <div class="card">
                <a href="/2018/10/11/Java-Foundation-E/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/41.jpg" class="responsive-img" alt="Java Foundation.E">
                        
                        <span class="card-title">Java Foundation.E</span>
                    </div>

                    <div class="card-content article-content">
                        <div class="summary">Three Questions Before Embarking On A trip To Java
为什么要用这些技术

用这些技术有什么好处

如果不用这些技术行不行

面向对象（三）Wrapper Class


基本数据类型
包装类</div>
                        <div class="publish-info">
                            <span class="publish-date">
                                <i class="fa fa-calendar fa-fw"></i>2018-10-11
                            </span>
                            <span class="publish-author">
                                <i class="fa fa-user fa-fw"></i>
                                
                                Tony.Prime
                                
                            </span>
                        </div>
                    </div>

                    
                    <div class="card-action article-tags">
                        
                        <a href="https://achillesprime.github.io/tags/Java/"><span class="chip bg-color">Java</span></a>
                        
                        <a href="https://achillesprime.github.io/tags/Foundation/"><span class="chip bg-color">Foundation</span></a>
                        
                    </div>
                    
                </a>
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">下一篇</div>
            <div class="card">
                <a href="/2018/10/08/Java-Foundation-D/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/40.jpg" class="responsive-img" alt="Java Foundation.D">
                        
                        <span class="card-title">Java Foundation.D</span>
                    </div>
                    <div class="card-content article-content">
                        <div class="summary">
                            Three Questions Before Embarking On A trip To Java
为什么要用这些技术

用这些技术有什么好处

如果不用这些技术行不行

面向对象（二）继承class Hello
{
      publ
                        </div>
                        <div class="publish-info">
                            <span class="publish-date">
                                <i class="fa fa-calendar fa-fw"></i>2018-10-08
                            </span>
                            <span class="publish-author">
                                <i class="fa fa-user fa-fw"></i>
                                
                                Tony.Prime
                                
                            </span>
                        </div>
                    </div>
                    
                    <div class="card-action article-tags">
                        
                        <a href="https://achillesprime.github.io/tags/Java/"><span class="chip bg-color">Java</span></a>
                        
                        <a href="https://achillesprime.github.io/tags/Foundation/"><span class="chip bg-color">Foundation</span></a>
                        
                    </div>
                    
                </a>
            </div>
        </div>
        
    </div>
</article>
    </div>
</main>

<footer class="page-footer bg-color">
    <div class="container row center-align">
        <div class="col s12 m8 l8 copy-right">
            本站由&copy;<a href="http://blinkfox.com" target="_blank">Blinkfox</a>基于
            <a href="https://hexo.io/" target="_blank">Hexo</a> 采用
            <a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">hexo-theme-matery</a>主题搭建.
        </div>
        <div class="col s12 m4 l4 social-link">
            <a href="https://github.com/blinkfox" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
                <i class="fa fa-github fa-lg"></i>
            </a>
            <a href="mailto:chenjiayin1990@163.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
                <i class="fa fa-envelope fa-lg"></i>
            </a>
            <a href="#!" class="tooltipped" data-tooltip="QQ: 1181062873" data-position="top" data-delay="50">
                <i class="fa fa-qq fa-lg"></i>
            </a>
        </div>
    </div>
</footer>

<div class="progress-bar"></div>


<!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title">搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input" autofocus="">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
    searchFunc("/" + "search.xml", 'searchInput', 'searchResult');
</script>
<!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fa fa-angle-double-up"></i>
    </a>
</div>


<script src="/libs/materialize/js/materialize.min.js"></script>
<script src="/libs/masonry/masonry.pkgd.min.js"></script>
<script src="/libs/aos/aos.js"></script>
<script src="/libs/scrollprogress/scrollProgress.min.js"></script>
<script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
<script src="/js/matery.js"></script>
</body>
</html>