<!DOCTYPE HTML>
<html lang="zh-CN">
<head>
    <head>
    <meta charset="utf-8">
    <meta name="keywords" content=", hexo-theme-matery">
    <meta name="description" content="Thou hast made me endless such is thy pleasure">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>AchillesPrime</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/css/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery-2.2.0.min.js"></script>
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>
</head>

<body>

<header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="container">
            <div class="nav-wrapper">
                <div class="brand-logo">
                    <a href="/" class="waves-effect waves-light">
                        
                        <img src="/medias/logo.png" class="logo-img hide-on-small-only">
                        
                        <span class="logo-span">AchillesPrime</span>
                    </a>
                </div>

                <a href="#" data-activates="mobile-nav" class="button-collapse"><i class="fa fa-navicon"></i></a>
<ul class="right">
    
    
    <li class="hide-on-med-and-down">
        <a href="/" class="waves-effect waves-light">首页</a>
    </li>
    
    
    
    <li class="hide-on-med-and-down">
        <a href="/tags" class="waves-effect waves-light">标签</a>
    </li>
    
    
    
    <li class="hide-on-med-and-down">
        <a href="/archives" class="waves-effect waves-light">归档</a>
    </li>
    
    
    <li>
        <a id="toggleSearch" class="waves-effect waves-light">
            <i id="searchIcon" class="mdi-action-search"></i>
        </a>
    </li>

</ul>

<div class="side-nav" id="mobile-nav">
    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">AchillesPrime</div>
        <div class="logo-desc">
            
            Thou hast made me endless such is thy pleasure
            
        </div>
    </div>
    <ul class="menu-list">
        
        <li>
            <a href="/" class="waves-effect waves-light">
                <i class="fa fa-link fa-lg fa-fw"></i>首页
            </a>
        </li>
        
        <li>
            <a href="/tags" class="waves-effect waves-light">
                <i class="fa fa-link fa-lg fa-fw"></i>标签
            </a>
        </li>
        
        <li>
            <a href="/archives" class="waves-effect waves-light">
                <i class="fa fa-link fa-lg fa-fw"></i>归档
            </a>
        </li>
        
    </ul>
    <div class="social-link">
        <a href="https://github.com/blinkfox" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub"
           data-position="top" data-delay="50">
            <i class="fa fa-github fa-lg"></i>
        </a>
        <a href="mailto:chenjiayin1990@163.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我"
           data-position="top" data-delay="50">
            <i class="fa fa-envelope fa-lg"></i>
        </a>
        <a href="#!" class="tooltipped" data-tooltip="QQ号：1181062873" data-position="top" data-delay="50">
            <i class="fa fa-qq fa-lg"></i>
        </a>
    </div>
</div>

            </div>
        </div>
    </nav>
</header>



<div class="bg-cover post-cover" style="background-image: url('/medias/featureimages/26.jpg')">
    <div class="container">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <div class="description center-align post-title">
                        Java Foundation.G
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<main class="content">

    <!-- 文章内容详情 -->
    <div id="artDetail" class="container">
        <div class="card">
            <div class="card-content article-info">
                
                <div class="article-tag">
                    
                    <a href="https://achillesprime.github.io/tags/Java/" target="_blank"><span class="chip bg-color">Java</span></a>
                    
                    <a href="https://achillesprime.github.io/tags/Foundation/" target="_blank"><span class="chip bg-color">Foundation</span></a>
                    
                </div>
                
                <div class="author-info">
                    <span>
                        <i class="fa fa-calendar fa-fw"></i>2018-10-15
                    </span>
                </div>
            </div>
            <hr>
            <div class="card-content article-card-content">
                <div id="articleContent">
                    <h1 id="Three-Questions-Before-Embarking-On-A-trip-To-Java"><a href="#Three-Questions-Before-Embarking-On-A-trip-To-Java" class="headerlink" title="Three Questions Before Embarking On A trip To Java"></a>Three Questions Before Embarking On A trip To Java</h1><blockquote>
<h4 id="为什么要用这些技术"><a href="#为什么要用这些技术" class="headerlink" title="为什么要用这些技术"></a>为什么要用这些技术</h4></blockquote>
<blockquote>
<h4 id="用这些技术有什么好处"><a href="#用这些技术有什么好处" class="headerlink" title="用这些技术有什么好处"></a>用这些技术有什么好处</h4></blockquote>
<blockquote>
<h4 id="如果不用这些技术行不行"><a href="#如果不用这些技术行不行" class="headerlink" title="如果不用这些技术行不行"></a>如果不用这些技术行不行</h4></blockquote>
<hr>
<h1 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h1><h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><blockquote>
<p>世界上的意外是不可穷举的</p>
</blockquote>
<ul>
<li>异常处理已经成为衡量一门语言是否成熟的标准之一<ul>
<li>更好的容错性</li>
<li>提高程序的健壮性</li>
<li>实现异常处理代码和业务实现代码分离，提供更好地可读性</li>
</ul>
</li>
</ul>
<ul>
<li>当遇到异常，我们一般有两种解决方案：<ul>
<li>一种是将异常抛出<ul>
<li>抛出异常是一个很简单的行为，但是这个简单的行为将会让程序直接退出</li>
<li>而在实际需求当中，并不是什么异常都能抛出的，同时我们也理应保持程序处于运行状态，不然也就没有什么意义了</li>
<li>我们要做的即是：即使程序出现了异常，也要让程序正确的执行完毕</li>
</ul>
</li>
<li>另外一种是将异常捕获<ul>
<li>异常的捕获要通过 try…catch…finally 语句块来完成</li>
</ul>
</li>
</ul>
</li>
</ul>
<pre class=" language-java"><code class="language-java"><span class="token keyword">try</span>
<span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">//业务实现代码</span>
<span class="token punctuation">}</span>
<span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ExceptionClass</span> e<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    alert 输入不合法
    <span class="token keyword">goto</span> retry
<span class="token punctuation">}</span>
</code></pre>
<ul>
<li>try 块用于捕获业务实现代码里出现的异常<ul>
<li>throw （抛出异常）：系统自动生成一个异常对象，该异常对象被提交给 Java 运行环境</li>
<li>catch （捕获异常）：Java 运行环境收到异常对象，寻找能处理该异常对象的 catch 块</li>
<li>一个方法所能捕捉的异常，一定是Java代码在某处所抛出的异常。简单地说，异常总是先被抛出，后被捕捉的。</li>
<li>如果系统找不到捕获异常的 catch 块，则运行时环境终止，Java 程序退出</li>
<li>try 块里的某条语句引起了异常，该语句后的其他语句通常将不会获得执行的机会</li>
<li>try 块后可以有多个 catch 块，可无须使用 if 、switch 判断语句</li>
<li>try 块和 catch 块后的花括号 <code>{}</code> 不能省略，即使只有一行业务实现代码</li>
<li>try 块里声明的变量是代码块内的局部变量，只在 try 块内有效，catch 块不能访问</li>
<li>其实不管程序代码是否处于 try 块中，只要执行时出现了异常，系统就会自动生成一个异常对象，如果程序没有为这段代码定义任何的 catch 块，则程序就在此退出</li>
</ul>
</li>
<li>每个 catch 块都是专门用于处理某个 try 块捕获到的异常类及其子类的异常实例<ul>
<li>Java 运行时环境会依次判断接收到的异常对象（ex）是否是 catch 块后异常类（ExceptionClass）或其子类的实例</li>
<li>当程序进入负责处理的 catch 块时，系统生成的异常对象 ex 将会传给 catch 块后的异常形参（ExceptionClass e）</li>
<li>且匹配进入一个 catch 块后异常对象（ex）将不会向下再执行判断其他的 catch 块</li>
</ul>
</li>
</ul>
<h3 id="常见的几种异常"><a href="#常见的几种异常" class="headerlink" title="常见的几种异常"></a>常见的几种异常</h3><pre class=" language-java"><code class="language-java"><span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Date<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span>
<span class="token punctuation">{</span>

       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
           System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//输出：0</span>

           <span class="token punctuation">{</span>
              <span class="token keyword">try</span>
              <span class="token punctuation">{</span>
                  <span class="token keyword">int</span> a <span class="token operator">=</span> Integer<span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
                   <span class="token comment" spellcheck="true">/*
                   第一条语句即编译错误
                   系统生成异常对象
                   以下语句得不到执行
                   */</span>
                  <span class="token keyword">int</span> b <span class="token operator">=</span> Integer<span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                  <span class="token keyword">int</span> c <span class="token operator">=</span> a <span class="token operator">/</span> b<span class="token punctuation">;</span>
                  System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>

              <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IndexOutOfBoundsException</span> ie<span class="token punctuation">)</span>         <span class="token comment" spellcheck="true">//触发</span>
              <span class="token punctuation">{</span>
                  System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"数组越界：运行程序时输入的参数个数不够"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>

              <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">NumberFormatException</span> ne<span class="token punctuation">)</span>
              <span class="token punctuation">{</span>
                  System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"数字格式异常：程序只能接受整数参数"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>

              <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ArithmeticException</span> ae<span class="token punctuation">)</span>
              <span class="token punctuation">{</span>
                  System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"算术异常：除0或用0取模"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>

              <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span>    
              <span class="token comment" spellcheck="true">/*
              Exception 类的 catch 块放在最后
              因为所有的异常对象都是 Exception 类或其子类的实例对象
              排在 Exception 后面的 catch 块永远也不会执行
              */</span>
              <span class="token punctuation">{</span>
                  System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"未知异常"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>
           <span class="token punctuation">}</span>



           Date d <span class="token operator">=</span> null<span class="token punctuation">;</span>
           <span class="token punctuation">{</span>
               <span class="token keyword">try</span>
               <span class="token punctuation">{</span>
                   System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span><span class="token function">after</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//调用空引用的 after() 方法</span>
               <span class="token punctuation">}</span>

               <span class="token comment" spellcheck="true">/*
               catch (RuntimeException e)
               {
                   System.out.println("运行时异常");
               }
               RuntimeException 已经包含了 NullPointerException
               将会引发下面64行的编译错误：
               已经捕获到异常 NullPointerException
               */</span>

               <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">NullPointerException</span> ne<span class="token punctuation">)</span>         <span class="token comment" spellcheck="true">//触发</span>
               <span class="token punctuation">{</span>
                   System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"空指针异常：试图调用一个 null 对象的实例方法或实例变量"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
               <span class="token punctuation">}</span>

               <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span>
               <span class="token comment" spellcheck="true">/*
               Exception 类的 catch 块放在最后
               因为所有的异常对象都是 Exception 类或其子类的实例对象
              */</span>
               <span class="token punctuation">{</span>
                   System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"未知异常"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
               <span class="token punctuation">}</span>
           <span class="token punctuation">}</span>
       <span class="token punctuation">}</span>
<span class="token punctuation">}</span>



<span class="token comment" spellcheck="true">//三个异常类的继承结构： </span>

java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>Object
    <span class="token operator">|</span><span class="token operator">-</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>Throwable
         <span class="token operator">|</span><span class="token operator">-</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>Exception
              <span class="token operator">|</span><span class="token operator">-</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>RuntimeException
                 <span class="token operator">|</span><span class="token operator">-</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>ArithmeticException

java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>Object
   <span class="token operator">|</span><span class="token operator">-</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>Throwable
      <span class="token operator">|</span><span class="token operator">-</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>Exception
         <span class="token operator">|</span><span class="token operator">-</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>RuntimeException
             <span class="token operator">|</span><span class="token operator">-</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>IndexOutOfBoundsException
                <span class="token operator">|</span><span class="token operator">-</span>java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>ArrayIndexOutOfBoundsException

java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>Object
   <span class="token operator">|</span><span class="token operator">-</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>Throwable
      <span class="token operator">|</span><span class="token operator">-</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>Exception
          <span class="token operator">|</span><span class="token operator">-</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>RuntimeException
              <span class="token operator">|</span><span class="token operator">-</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>IllegalArgumentException
                  <span class="token operator">|</span><span class="token operator">-</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>NumberFormatException
</code></pre>
<ul>
<li>先捕获小异常，再捕获大异常<ul>
<li>所有父类异常的 catch 块，都应该放在子类异常的 catch 块后面</li>
</ul>
</li>
</ul>
<pre class=" language-java"><code class="language-java"><span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Date<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span>
<span class="token punctuation">{</span>

       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
           System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//输出：0</span>

           <span class="token punctuation">{</span>
              <span class="token keyword">try</span>
              <span class="token punctuation">{</span>
                  <span class="token keyword">int</span> a <span class="token operator">=</span> Integer<span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                  <span class="token keyword">int</span> b <span class="token operator">=</span> Integer<span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                  <span class="token keyword">int</span> c <span class="token operator">=</span> a <span class="token operator">/</span> b<span class="token punctuation">;</span>
                  System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>

              <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IndexOutOfBoundsException</span>  <span class="token operator">|</span> 
                     NumberFormatException      <span class="token operator">|</span>
                     ArithmeticException  ie<span class="token punctuation">)</span>         <span class="token comment" spellcheck="true">//触发</span>
              <span class="token punctuation">{</span>
                  System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"程序发生了数组越界、数字格式异常、算数异常之一"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                  <span class="token comment" spellcheck="true">/*
                  ie = new ArithmeticException("test");
                  有编译错误
                  异常变量有 final 修饰
                  */</span>
              <span class="token punctuation">}</span>

              <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span>    
              <span class="token comment" spellcheck="true">/*
              Exception 类的 catch 块放在最后
              因为所有的异常对象都是 Exception 类或其子类的实例对象
              排在 Exception 后面的 catch 块永远也不会执行
              */</span>
              <span class="token punctuation">{</span>
                  System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"未知异常"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                  e <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"test"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                  <span class="token comment" spellcheck="true">/*
                  无编译错误
                  异常变量没有 final 修饰
                  */</span>
              <span class="token punctuation">}</span>
           <span class="token punctuation">}</span>
       <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre>
<ul>
<li>一个 catch 块捕获多种异常时，多种异常用 <code>|</code> 隔开</li>
<li>捕获多种异常时，异常变量隐式用 final 修饰，不能对异常变量重新赋值</li>
<li>捕获一种异常时，异常变量没有 final 修饰，可以对异常变量重新赋值</li>
</ul>
<h3 id="回收资源"><a href="#回收资源" class="headerlink" title="回收资源"></a>回收资源</h3><pre class=" language-java"><code class="language-java"><span class="token keyword">finally</span>
<span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">//资源回收</span>
<span class="token punctuation">}</span>
</code></pre>
<ul>
<li>Java 的垃圾回收机制不会回收任何物理资源，只能回收堆内存中对象所占用的内存<ul>
<li>程序在 try 块中打开的一些物理资源（数据库连接、网络连接和磁盘文件等），需要显式回收</li>
</ul>
</li>
<li>异常处理语法结构中只有 try 块是必需的，catch 块和 finally 块是可选的<ul>
<li>但不能只有 try 块，没有catch 块和 finally 块</li>
<li>catch 块和 finally 块至少出现其一</li>
<li>finally 块必须位于所有的 catch 块之后</li>
</ul>
</li>
<li>在 try-catch-finally 结构中，可重新抛出异常</li>
<li>try-catch-finally 块的执行顺序:<ul>
<li>如果程序中产生了异常，那么 JVM 根据异常的类型，实例化一个指定异常类的对象</li>
<li>如果这时程序中没有任何的异常处理操作，则这个异常类的实例化对象将交给 JVM 进行默认处理，而 JVM 的默认处理方式就是进行异常信息的输出，而后中断程序</li>
<li>当 try 块没有捕获到异常时：<ul>
<li>try 块中的语句逐一被执行，程序将跳过 catch 块，执行 finally 块和其后的语句</li>
</ul>
</li>
<li>当 try 块捕获到异常，catch 块里没有处理此异常的匹配块：<ul>
<li>此异常将会抛给 JVM 默认处理，finally 块里的语句还是会被执行，但finally 块后的语句不会再被执行</li>
</ul>
</li>
<li>当 try 块捕获到异常，catch 块里有处理此异常的匹配块：<ul>
<li>程序将直接跳到匹配的 catch 块，找到与之对应的处理程序，其他的 catch 块将不再会被执行，且 try 块中出现异常之后的语句也不会被执行，catch 块执行完后，执行 finally 块里的语句，再执行 finally 块后的语句</li>
</ul>
</li>
</ul>
</li>
</ul>
<pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span>
<span class="token punctuation">{</span>       
       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> 
       <span class="token punctuation">{</span>              

              <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

              String greetings<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">" Hello ￥￥￥ !"</span> <span class="token punctuation">,</span> 
                                     <span class="token string">" Hello $$$$$$ !"</span> <span class="token punctuation">,</span>
                                     <span class="token string">" Hello WORLD  !"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
              <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">)</span> 
              <span class="token punctuation">{</span>
                  <span class="token keyword">try</span> 
                  <span class="token punctuation">{</span>
                        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>greetings<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token comment" spellcheck="true">// 特别注意循环控制变量i的设计，避免造成无限循环</span>
                  <span class="token punctuation">}</span> 

                    <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ArrayIndexOutOfBoundsException</span> e<span class="token punctuation">)</span> 
                  <span class="token punctuation">{</span>
                        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"数组下标越界异常"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                  <span class="token punctuation">}</span> 

                    <span class="token keyword">finally</span> 
                    <span class="token punctuation">{</span>
                        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"--------------------------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                  <span class="token punctuation">}</span>
              <span class="token punctuation">}</span>
       <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">/*
如果把 try 块写成
System.out.println (greetings[i]); i++;
将会变成无限循环
因为后面的 i++ 根本得不到机会执行
输出：
Hello ￥￥￥ ！
--------------------------
Hello $$$$$$ ！
--------------------------
Hello WORLD  ！
--------------------------
数组下标越界异常
--------------------------
*/</span>
</code></pre>
<ul>
<li>无论是否捕获或处理异常，finally块里的语句都会被执行</li>
<li>只有以下几种情况 finally 不会被执行<ul>
<li>finally 块内发生异常</li>
<li>在前面的代码中出现 System.exit(int i) 退出虚拟机</li>
<li>程序所在的线程死亡</li>
<li>关闭 CPU </li>
</ul>
</li>
</ul>
<pre class=" language-java"><code class="language-java"><span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>*<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span>
<span class="token punctuation">{</span>

       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              <span class="token keyword">try</span>
              <span class="token punctuation">{</span>
                  FileInputStream f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">"a.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment" spellcheck="true">/*
                    文件输入流
                    用于读取磁盘文件的内容
                    */</span>
              <span class="token punctuation">}</span>

              <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> ioe<span class="token punctuation">)</span>                    <span class="token comment" spellcheck="true">//触发</span>
              <span class="token punctuation">{</span>
                  System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ioe<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
                  <span class="token comment" spellcheck="true">/*
                  返回该异常的详细描述字符串
                  输出：
                  a.txt(？？？？？？？)
                  */</span>

                  ioe<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                  <span class="token comment" spellcheck="true">/*
                  将该异常的跟踪栈信息输出到标准错误输出
                  */</span>
              <span class="token punctuation">}</span>
       <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<ul>
<li>访问异常信息<ul>
<li>通过访问 catch 块后的异常形参的方法来获取</li>
</ul>
</li>
</ul>
<pre class=" language-java"><code class="language-java"><span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>*<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span>
<span class="token punctuation">{</span>
       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              FileInputStream f <span class="token operator">=</span> null<span class="token punctuation">;</span>

              <span class="token keyword">try</span>
              <span class="token punctuation">{</span>
                  f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">"a.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>

              <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> ioe<span class="token punctuation">)</span>     <span class="token comment" spellcheck="true">//触发</span>
              <span class="token punctuation">{</span>
                  System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ioe<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//输出：a.txt(？？？？？)</span>

                  <span class="token keyword">return</span><span class="token punctuation">;</span>     
                  <span class="token comment" spellcheck="true">/*
                  一般情况下
                  return 语句将强制方法返回
                  程序立刻结束该方法
                  但在这里
                  return 语句虽然也强制方法结束
                  但一定会先执行 finally 块里的语句
                  */</span>

                  <span class="token comment" spellcheck="true">//System.exit(1);</span>
                    <span class="token comment" spellcheck="true">/*
                    去掉 return;
                    使用 exit 退出虚拟机
                    将不再执行 finallly 块里的语句
                    */</span>
              <span class="token punctuation">}</span>

              <span class="token keyword">finally</span>
              <span class="token punctuation">{</span>
                  <span class="token keyword">if</span><span class="token punctuation">(</span>f <span class="token operator">!=</span> null<span class="token punctuation">)</span>   <span class="token comment" spellcheck="true">//关闭磁盘文件，回收资源</span>
                  <span class="token punctuation">{</span>
                      <span class="token keyword">try</span>
                      <span class="token punctuation">{</span>
                          f<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                      <span class="token punctuation">}</span>

                      <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> ioe<span class="token punctuation">)</span>
                      <span class="token punctuation">{</span>
                          ioe<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                      <span class="token punctuation">}</span>
                  <span class="token punctuation">}</span>

                  System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"执行 finally 块里的资源回收！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                  <span class="token comment" spellcheck="true">/*
                  输出：
                  执行 finally 块里的资源回收！
                  */</span>
              <span class="token punctuation">}</span>
       <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<ul>
<li>完整的异常处理流程可以放在 try 块、catch 块、finally 块中</li>
<li>异常处理嵌套的深度没有很明确的限制，但通常没有必要使用超过两层的嵌套异常处理，层次太深的嵌套异常处理会导致程序的可读性降低</li>
<li>如果是捕捉 IO 输入输出流中的异常<ul>
<li>一定要在 try…catch 块后加 finally 把输入输出流关闭；</li>
</ul>
</li>
</ul>
<pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span>
<span class="token punctuation">{</span>
       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception
              <span class="token punctuation">{</span>
                  <span class="token keyword">boolean</span> a <span class="token operator">=</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                  System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>

              <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
              <span class="token punctuation">{</span>
                  <span class="token keyword">try</span>
                  <span class="token punctuation">{</span>
                      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//失效</span>
                  <span class="token punctuation">}</span>

                  <span class="token keyword">finally</span>
                  <span class="token punctuation">{</span>
                      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//输出：false</span>
                  <span class="token punctuation">}</span>
              <span class="token punctuation">}</span>              
<span class="token punctuation">}</span>
</code></pre>
<ul>
<li>在 finally 块中使用了 return 或 throw 等导致方法终止的语句，将会导致 try 块和 catch 块中的 return 或 throw 语句失效<ul>
<li>Java 程序执行 try 块和 catch 块时遇到 return 或 throw 语句，系统会先去寻找该异常处理流程中是否包含 finally 块，如果没有，将立即执行 return 或 throw 语句，终止方法</li>
<li>如果有 finally 语句，系统立即执行 finally 块，只有当 finally 块执行完成后，系统才会再次跳回来执行 try 块和 catch 块中的 return 或 throw 语句</li>
<li>如果 finally 语句里面也有 return 或 throw 等导致方法终止的语句，finally 块已经终止了方法，将会不再跳回去执行 try 块和 catch 块中的任何语句</li>
</ul>
</li>
</ul>
<pre class=" language-java"><code class="language-java"><span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>*<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span>
<span class="token punctuation">{</span>
       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> IOException
              <span class="token punctuation">{</span>
                  <span class="token keyword">try</span><span class="token punctuation">(</span>
BufferedReader br <span class="token operator">=</span> 
               <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token string">"HelloWorld.java"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
PrintStream    ps <span class="token operator">=</span> 
               <span class="token keyword">new</span> <span class="token class-name">PrintStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">"a.txt"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                      <span class="token punctuation">)</span>
                      <span class="token comment" spellcheck="true">/*
                      声明、初始化了两个 IO 流
                      BufferedReader
                      PrintStream
                      都实现了 Closeable 接口
                      且放在 try 块后的圆括号内声明、初始化
                      try 语句会自动关闭它们
                      因此上面的程序是安全的
                      */</span>
                  <span class="token punctuation">{</span>
                      System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>br<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                      <span class="token comment" spellcheck="true">/*
                      输出：
                      import java.io.*
                      */</span>

                      ps<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"此情可待成追忆"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                  <span class="token punctuation">}</span>
              <span class="token punctuation">}</span>      
<span class="token punctuation">}</span>

</code></pre>
<ul>
<li>try 块自动关闭资源（Java 7）<ul>
<li>在 try 关键字后面紧跟一对圆括号，圆括号内可以声明、初始化一个或多个资源</li>
<li>此处的资源指的是那些必须在程序结束时显式关闭的资源（数据库连接、网络连接和磁盘文件等）</li>
<li>try 块将在结束时自动关闭这些资源</li>
<li>自动关闭资源的 try 块相当于包含了隐式的 finally 块<ul>
<li>因此此 try 语句可以既没有 catch 块，也没有 finally 块</li>
</ul>
</li>
</ul>
</li>
<li>为了保证 try 块可以正常关闭资源<ul>
<li>这些资源实现类必须实现 AutoCloseable 或 Closeable 接口</li>
<li>实现这两个接口就必须实现 close() 方法</li>
</ul>
</li>
<li>Closeable 是 AutoCloseable 的子接口<ul>
<li>Closeable 接口里的 close() 方法声明抛出了 IOException<ul>
<li>它的实现类在实现 close() 方法时只能声明抛出 IOException 或其子类</li>
</ul>
</li>
<li>AutoCloseable 接口里的 close() 方法声明抛出了 Exception <ul>
<li>它的实现类在实现 close() 方法时能声明抛出任何异常</li>
</ul>
</li>
</ul>
</li>
</ul>
<pre class=" language-java"><code class="language-java"><span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>*<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span>
<span class="token punctuation">{</span>
       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> IOException
              <span class="token punctuation">{</span>
BufferedReader br <span class="token operator">=</span> 
               <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token string">"HelloWorld.java"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
PrintStream    ps <span class="token operator">=</span> 
               <span class="token keyword">new</span> <span class="token class-name">PrintStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">"a.txt"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                   <span class="token keyword">try</span> <span class="token punctuation">(</span>br <span class="token punctuation">;</span> ps<span class="token punctuation">)</span> 
                 <span class="token punctuation">{</span>
                        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>br<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token comment" spellcheck="true">/*
                        输出：
                        import java.io.*
                        */</span>

                        ps<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"此情可待成追忆"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                   <span class="token punctuation">}</span>
               <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre>
<ul>
<li>try 块自动关闭资源（Java 9）<ul>
<li>不要求在 try 块后的圆括号内声明并创建资源</li>
<li>只需要自动关闭的资源有 fianl 修饰或者是有效的 final</li>
<li>允许将资源变量放在 try 块后的圆括号内</li>
</ul>
</li>
</ul>
<h3 id="异常体系"><a href="#异常体系" class="headerlink" title="异常体系"></a>异常体系</h3><p><img src="https://i.loli.net/2018/10/15/5bc429176fd26.jpg" alt="9"></p>
<ul>
<li>Java 把所有非正常的情况分为两种<ul>
<li>异常（Exception）</li>
<li>错误（Error）</li>
<li>它们都继承了 Throwable 父类，为 Throwable 类的两个直接子类</li>
<li>异常（Exception）能被程序本身处理，错误（Error）是无法处理的</li>
</ul>
</li>
<li>Error 错误，一般是指与虚拟机相关的问题，如系统崩溃，虚拟机错误、动态链接失败等，这种错误无法恢复或不可捕获，将导致程序中断</li>
<li>Java 异常被分为两大类<ul>
<li>Checked 异常（编译时异常）<ul>
<li>不是 RuntimeException 类及其子类的异常实例</li>
<li>IOException 、SQLException 等</li>
</ul>
</li>
<li>Runtime 异常（运行时异常）<ul>
<li>所有的 RuntimeException 类及其子类的异常实例</li>
<li>IndexOutOfBoundsException 、NullPointerException 、ClassCastException 、ArithmeticException 、ClassNotFoundException等</li>
</ul>
</li>
</ul>
</li>
<li>仅 Java 提供了 Checked 异常<ul>
<li>Java 认为 Checked 异常是可以被处理的异常</li>
<li>Java 程序必须显式处理 Checked 异常，否则无法通过编译</li>
<li>体现了 Java 的设计哲学：<ul>
<li>没有完善错误处理的代码根本不会被执行</li>
</ul>
</li>
</ul>
</li>
<li>对于 Checked 异常的显式处理方式<ul>
<li>当前方法明确知道如何处理该异常，程序应该用 try…catch 块来捕获并处理</li>
<li>当前方法不知道如何处理这种异常，则应该在定义该方法时 throws 声明抛出该异常</li>
</ul>
</li>
<li>Runtime 异常由程序员错误导致，处理起来更加更加灵活，不需要 try…catch 捕获处理或 throws 显式声明抛出，直接由 JVM 接管，层层上抛，记录日志<ul>
<li>需要程序员注意逻辑和编码上的谨慎，尽量避免此种错误发生</li>
<li>也可以使用 try…catch 捕获处理</li>
</ul>
</li>
<li>使用 Checked 异常的不便之处<ul>
<li>Checked 异常必须显式捕获并处理，或者显式声明抛出，增加了代码的编程复杂度</li>
<li>如果在方法中显式声明抛出 Checked 异常，将会导致方法签名与异常耦合<ul>
<li>如果该方法是重写父类的方法，则该方法抛出的异常还受到被重写的父类方法所声明抛出的异常的限制</li>
<li>方法重写中的声明抛出异常<ul>
<li>子类方法声明抛出的异常类 &lt;= 父类方法声明抛出的异常类</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>大部分时候推荐使用 Runtime 异常，尤其当程序需要 throw 自行抛出异常时，使用 Runtime 更加简洁</li>
<li>但 Checked 异常也有其优势<ul>
<li>提醒程序员代码可能存在的问题，提醒程序员必须处理该异常，或者 throws 声明抛出该异常，由方法的调用者来处理，从而避免程序员因为粗心而忘记处理该异常的错误</li>
</ul>
</li>
</ul>
<h3 id="throws"><a href="#throws" class="headerlink" title="throws"></a>throws</h3><pre class=" language-java"><code class="language-java"><span class="token keyword">throws</span> ExceptionClass1 <span class="token punctuation">,</span> ExceptionClass2<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>*<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span>
<span class="token punctuation">{</span>
       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> IOException
       <span class="token punctuation">{</span>
              FileInputStream fis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">"b.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">/*
程序声明不处理 IOException 异常
将该异常交给 JVM 处理
所以程序一旦遇到 IOEeception 异常
JVM 就会打印该异常的跟踪栈信息
并结束程序
*/</span>



<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span>
<span class="token punctuation">{</span>       
       <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> NegativeArraySizeException 
       <span class="token punctuation">{</span>
              <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">int</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
       <span class="token punctuation">}</span>

       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> 
       <span class="token punctuation">{</span>              
              <span class="token keyword">try</span> 
              <span class="token punctuation">{</span>
                  <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
                 <span class="token punctuation">}</span> 

              <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">NegativeArraySizeException</span> e<span class="token punctuation">)</span> 
              <span class="token punctuation">{</span>
                  System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"pop()方法抛出的异常"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 输出异常信息</span>
              <span class="token punctuation">}</span>
       <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">/*
pop() 方法没有处理 NegativeArraySizeException 异常
而是由其调用者 main 函数来处理
输出：
pop()方法抛出的异常
*/</span>
</code></pre>
<ul>
<li>throws 声明抛出异常<ul>
<li>当前方法不知道如何处理这种类型的异常</li>
<li>该异常应该由上一级的调用者处理</li>
<li>如果上一级的调用者不想处理该异常，可以继续向上抛出，但不可囫囵吞枣</li>
<li>如果 main 方法也不知如何处理这种类型的异常</li>
<li>该异常将交给 JVM 处理</li>
<li>JVM 处理异常的方法就是打印异常的跟踪栈信息，并结束程序</li>
<li>如果是 Runtime 异常或其子类，那么可以不使用throws关键字来声明方法要抛出的异常，编译仍能顺利通过，但在运行时会被系统自动抛出。</li>
</ul>
</li>
<li>throws 声明抛出只能在方法签名（方法名+参数列表）之后使用<ul>
<li>可以声明抛出多个异常，以英文逗号 <code>,</code> 隔开</li>
<li>一旦使用 throws 声明抛出异常，程序就无需使用 try…catch 块来捕获异常了</li>
</ul>
</li>
</ul>
<pre class=" language-java"><code class="language-java"><span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>*<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span>
<span class="token punctuation">{</span>
       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception 
       <span class="token punctuation">{</span>
              <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token comment" spellcheck="true">/*
              test() 方法声明抛出 IOException 异常
              所以调用 test() 方法的代码
              要么处于 try...catch 块中显式捕获该异常
              要么处于另一个带 throws 声明抛出的方法中
              */</span>
       <span class="token punctuation">}</span>

       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> IOException
       <span class="token punctuation">{</span>
              FileInputStream f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">"b.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token comment" spellcheck="true">/*
              FileInputStream 类的构造器声明抛出 IOException 异常
              所以调用 FileInputStream 构造器的代码
              要么处于 try...catch 块中显式捕获该异常
              要么处于另一个带 throws 声明抛出的方法中
              */</span>
       <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<ul>
<li>如果某段代码中调用了一个 throws 声明抛出的方法，该方法抛出了 Checked 异常<ul>
<li>则表明该方法希望它的调用者来处理该异常：<ul>
<li>要么处于 try… catch 块中显式捕获该异常</li>
<li>要么处于另一个带 throws 声明抛出的方法中</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="throw"><a href="#throw" class="headerlink" title="throw"></a>throw</h3><pre class=" language-java"><code class="language-java"><span class="token keyword">throw</span> ExceptionInstance<span class="token punctuation">;</span>

<span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>*<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span>
<span class="token punctuation">{</span>
       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> 
       <span class="token punctuation">{</span>
              <span class="token keyword">try</span>
              <span class="token punctuation">{</span>
                  <span class="token function">throwChecked</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment" spellcheck="true">/*
                    调用声明抛出 Checked 异常的方法
                    要么在 try 块中显式捕获
                    要么在 mian 方法中再次 throws 声明抛出
                    */</span>
              <span class="token punctuation">}</span>

              <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span>
              <span class="token punctuation">{</span>
                  System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>

              <span class="token function">throwRuntime</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
               <span class="token comment" spellcheck="true">/*
               调用声明抛出 Runtime 异常的方法
               既可以在 try 块中显式捕获
               也可以完全不理会
               */</span>
       <span class="token punctuation">}</span>

       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">throwChecked</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception
       <span class="token punctuation">{</span>
              <span class="token keyword">if</span><span class="token punctuation">(</span>a <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span>
              <span class="token punctuation">{</span>
                  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Exception</span><span class="token punctuation">(</span><span class="token string">"a 大于0，不符合要求"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment" spellcheck="true">/*
                    自行抛出 Exception 异常
                    该代码必须处于 try 块里
                    或处于带 throws 声明的方法中
                    */</span>
              <span class="token punctuation">}</span>
       <span class="token punctuation">}</span>

       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">throwRuntime</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
           <span class="token keyword">if</span><span class="token punctuation">(</span>a <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span>
           <span class="token punctuation">{</span>
               <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"a 大于0，不符合要求"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                 <span class="token comment" spellcheck="true">/*
                 自行抛出的 RuntimeException 异常
                 既可以在 try 块中显式捕获
                 也可以完全不理会
                 把该异常交给该方法的调用者处理
                 */</span>
           <span class="token punctuation">}</span>
       <span class="token punctuation">}</span>       
<span class="token punctuation">}</span>
</code></pre>
<ul>
<li>throw 自行抛出异常<ul>
<li>方法体中抛出异常</li>
<li>抛出的不是异常类，而是异常实例</li>
<li>且每次只能抛出一个异常实例</li>
<li>程序会在 throw 语句后立即终止，后面的语句执行不到</li>
</ul>
</li>
<li>如果 throw 语句抛出了 Checked 异常<ul>
<li>则表明该方法希望它的调用者来处理该异常：<ul>
<li>要么处于 try… catch 块中显式捕获该异常</li>
<li>要么处于一个带 throws 声明抛出的方法中</li>
</ul>
</li>
</ul>
</li>
<li>如果 throw 语句抛出了 Runtime 异常<ul>
<li>无须放在 try 块里，也无须放在带 throws 声明抛出的方法中</li>
<li>程序既可以显式使用 try…catch 捕获处理该异常，也可以完全不理会该异常，把该异常交给方法调用者处理</li>
</ul>
</li>
<li>程序会在 throw 语句后立即终止，它后面的语句执行不到，然后在包含它的所有 try 块中（可能在上层调用函数中）从里向外寻找含有与其匹配的 catch 子句的 try 块</li>
</ul>
<pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span>
<span class="token punctuation">{</span>       
       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> 
       <span class="token punctuation">{</span>              
              <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>
              <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

              <span class="token keyword">try</span> 
              <span class="token punctuation">{</span>
                  <span class="token keyword">if</span> <span class="token punctuation">(</span>b <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ArithmeticException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 通过throw语句抛出异常</span>

                  System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"a/b的值是："</span> <span class="token operator">+</span> a <span class="token operator">/</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>

              <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ArithmeticException</span> e<span class="token punctuation">)</span> 
              <span class="token punctuation">{</span>
                  System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"程序出现异常，变量b不能为0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>

              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"程序结束"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">/*
捕捉throw语句抛出的 ArithmeticException 异常
输出：
程序出现异常，变量b不能为0
程序结束
*/</span>





<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span>
<span class="token punctuation">{</span>       
       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> 
       <span class="token punctuation">{</span>              
              <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>
              <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

              <span class="token keyword">try</span> 
              <span class="token punctuation">{</span>
                  System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"a/b的值是："</span> <span class="token operator">+</span> a <span class="token operator">/</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>

              <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ArithmeticException</span> e<span class="token punctuation">)</span> 
              <span class="token punctuation">{</span>
                  System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"程序出现异常，变量b不能为0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>

               System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"程序结束"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">/*
事实上
ArithmeticException 异常
是 Runtim 异常的子类
运行时异常可以由运行时系统自动抛出
不需要使用throw语句
捕捉运行时系统自动抛出的 ArithmeticException 异常
输出：
程序出现异常，变量b不能为0
程序结束
*/</span>




<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span>
<span class="token punctuation">{</span>       
       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> 
       <span class="token punctuation">{</span>              
              <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>
              <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"a/b的值是："</span> <span class="token operator">+</span> a <span class="token operator">/</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>

              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"程序结束"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">/*
由于捕获 Runtime 异常的代价远大于所带来的益处
所以 Java 编译器允许忽略运行时异常
可以既不捕捉
也不声明抛出运行时异常
输出：
Exception in thread "main" java.lang.ArithmeticException: / by zero
          at HelloWorld.main(HelloWorld.java:9)
*/</span>
</code></pre>
<h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//抛出异常的三种方式</span>

<span class="token comment" spellcheck="true">//（1）系统自动抛出</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span>
<span class="token punctuation">{</span>
       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span> b <span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> 

              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token operator">/</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> 
             <span class="token comment" spellcheck="true">/*
             系统会自动抛出
             ArithmeticException 异常
             */</span>             
       <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">//或者</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span>
<span class="token punctuation">{</span>
       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> 
       <span class="token punctuation">{</span> 
              String s <span class="token operator">=</span> <span class="token string">"abc"</span><span class="token punctuation">;</span> 

              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>Double<span class="token punctuation">.</span><span class="token function">parseDouble</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
              <span class="token comment" spellcheck="true">/*
              系统会自动抛出
              NumberFormatException 异常
              */</span>
       <span class="token punctuation">}</span>
<span class="token punctuation">}</span>



<span class="token comment" spellcheck="true">/*
（2）throw
throw是语句抛出一个异常
一般是在代码块的内部
当程序出现某种逻辑错误或业务错误时
由程序员主动抛出某种特定类型的异常
*/</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span>
<span class="token punctuation">{</span>
       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> 
       <span class="token punctuation">{</span> 
              String s <span class="token operator">=</span> <span class="token string">"abc"</span><span class="token punctuation">;</span> 

              <span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"abc"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 
              <span class="token punctuation">{</span> 
                  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NumberFormatException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
                  <span class="token comment" spellcheck="true">/*
                  主动抛出
                  NumberFormatException 异常
                  */</span>
              <span class="token punctuation">}</span> 

              <span class="token keyword">else</span> 
              <span class="token punctuation">{</span> 
                  System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> 
              <span class="token punctuation">}</span> 
       <span class="token punctuation">}</span>
<span class="token punctuation">}</span>





<span class="token comment" spellcheck="true">/*
（3）throws
throws是方法可能抛出异常的声明
用在声明方法时
表示该方法可能要抛出异常
当某个方法可能会抛出某种异常时用于throws 声明可能抛出的异常
然后交给上层调用它的方法程序处理
*/</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span>
<span class="token punctuation">{</span>
       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> NumberFormatException
       <span class="token punctuation">{</span> 
              String s <span class="token operator">=</span> <span class="token string">"abc"</span><span class="token punctuation">;</span> 

              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>Double<span class="token punctuation">.</span><span class="token function">parseDouble</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
       <span class="token punctuation">}</span> 

       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> 
       <span class="token punctuation">{</span> 
              <span class="token keyword">try</span> 
              <span class="token punctuation">{</span> 
                 <span class="token function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
               <span class="token punctuation">}</span> 

              <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">NumberFormatException</span> e<span class="token punctuation">)</span> 
              <span class="token punctuation">{</span> 
                 System<span class="token punctuation">.</span>err<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"非数据类型不能强制类型转换。"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
                 <span class="token comment" spellcheck="true">/*
                 输出：
                 非数据类型不能强制类型转换。
                 */</span>
               <span class="token punctuation">}</span> 
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<ul>
<li>throw与throws<ul>
<li>throws 出现在方法函数头</li>
<li>throw 出现在函数体</li>
<li>throws 表示出现异常的一种可能性，并不一定会发生这些异常</li>
<li>throw 则是抛出了异常，执行throw则一定抛出了某种异常对象</li>
</ul>
</li>
<li>两者都是消极处理异常的方式（这里的消极并不是说这种方式不好）<ul>
<li>只是抛出或者可能抛出异常，但是不会由函数去处理异常</li>
<li>真正的处理异常由函数的上层调用处理</li>
</ul>
</li>
<li>良好的编程习惯<ul>
<li>如果在函数体内用 throw 抛出了某种异常，最好要在函数名中加 throws 抛异常声明，然后交给调用它的上层函数进行处理。</li>
</ul>
</li>
</ul>
<h3 id="自定义异常类"><a href="#自定义异常类" class="headerlink" title="自定义异常类"></a>自定义异常类</h3><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorldException</span> <span class="token keyword">extends</span> <span class="token class-name">Exception</span>
<span class="token punctuation">{</span>
       <span class="token keyword">public</span> <span class="token function">HelloWolrdException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

       <span class="token keyword">public</span> <span class="token function">HelloWorldException</span><span class="token punctuation">(</span>String s<span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              <span class="token keyword">super</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token comment" spellcheck="true">/*
              通过 super 调用父类的构造器
              将此字符串参数 s 传给异常对象的 message 属性
              该 message 属性就是该异常对象的描述信息
              */</span>
       <span class="token punctuation">}</span>
<span class="token punctuation">}</span>



<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorldException</span> <span class="token keyword">extends</span> <span class="token class-name">RuntimeException</span>
<span class="token punctuation">{</span>
       <span class="token keyword">public</span> <span class="token function">HelloWolrdException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

       <span class="token keyword">public</span> <span class="token function">HelloWorldException</span><span class="token punctuation">(</span>String s<span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              <span class="token keyword">super</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token comment" spellcheck="true">/*
              通过 super 调用父类的构造器
              将此字符串参数 s 传给异常对象的 message 属性
              该 message 属性就是该异常对象的描述信息
              */</span>
       <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<ul>
<li>用户自定义异常都应该继承 Exception 基类</li>
<li>如果希望自定义 Runtime 异常，应该继承 RuntimeException 基类</li>
<li>自定义异常类时，通常需要提供两个构造器<ul>
<li>一个无参数构造器</li>
<li>一个带一个字符串参数的构造器<ul>
<li>作为该异常对象的描述信息（异常对象的 getMessage() 方法的返回值）</li>
</ul>
</li>
</ul>
</li>
<li>让异常类的类名可以准确描述异常</li>
</ul>
<pre class=" language-java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">HelloException</span> <span class="token keyword">extends</span> <span class="token class-name">Exception</span>
<span class="token punctuation">{</span>
       <span class="token keyword">public</span> <span class="token function">HelloException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

       <span class="token keyword">public</span> <span class="token function">HelloException</span><span class="token punctuation">(</span>String s<span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              <span class="token keyword">super</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span>
<span class="token punctuation">{</span>
       <span class="token keyword">private</span> <span class="token keyword">double</span> i <span class="token operator">=</span> <span class="token number">30.0</span><span class="token punctuation">;</span>

       <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">bid</span><span class="token punctuation">(</span>String b<span class="token punctuation">)</span> <span class="token keyword">throws</span> HelloException
       <span class="token comment" spellcheck="true">/*
       该方法中显式抛出了 HelloException 异常
       所以此处需要声明抛出 HelloException 异常
       */</span>
       <span class="token punctuation">{</span>
              <span class="token keyword">double</span> d <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">;</span>

              <span class="token keyword">try</span>
              <span class="token punctuation">{</span>
                  d <span class="token operator">=</span> Double<span class="token punctuation">.</span><span class="token function">parseDouble</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>

              <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span>
              <span class="token punctuation">{</span>
                  e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
                  <span class="token comment" spellcheck="true">/*
                  cath 捕获到异常
                  打印异常的跟踪栈信息
                  */</span>

                  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">HelloException</span><span class="token punctuation">(</span><span class="token string">"竞拍价必须是数值，"</span> <span class="token operator">+</span> <span class="token string">"不能包含其他字符！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                  <span class="token comment" spellcheck="true">/*
                  再次抛出自定义异常 HelloException
                  */</span>
              <span class="token punctuation">}</span>

              <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">></span> d<span class="token punctuation">)</span>
              <span class="token punctuation">{</span>
                  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">HelloException</span><span class="token punctuation">(</span><span class="token string">"竞拍价比起拍价低，"</span> <span class="token operator">+</span> <span class="token string">"不允许竞拍！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>

              i<span class="token operator">=</span> d<span class="token punctuation">;</span>
       <span class="token punctuation">}</span>

       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> 
       <span class="token punctuation">{</span> 
              HelloWorld h <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HelloWorld</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

              <span class="token keyword">try</span>
              <span class="token punctuation">{</span>
                  h<span class="token punctuation">.</span><span class="token function">bid</span><span class="token punctuation">(</span><span class="token string">"df"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>

              <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">HelloException</span> he<span class="token punctuation">)</span>
              <span class="token punctuation">{</span>
                  System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>he<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                  <span class="token comment" spellcheck="true">/*
                  再次捕获到 bid() 中抛出的异常
                  并将该异常的详细描述信息输出到标准错误输出
                  输出：
                  竞拍价必须是数值，不能包含其他字符！
                  */</span>
              <span class="token punctuation">}</span>
       <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<ul>
<li>catch 和 throw 同时使用<ul>
<li>异常出现的当前方法中，程序只对异常进行部分处理</li>
<li>还有些处理需要在该方法的调用者中才能完成</li>
<li>因为再次抛出异常</li>
<li>让该方法的调用者也能捕获到异常</li>
</ul>
</li>
<li>在大型企业级应用中非常常用<ul>
<li>应用后台需要通过日志来记录异常发生的详细情况</li>
<li>应用还需要根据异常向应用使用者传达某种提示</li>
</ul>
</li>
</ul>
<pre class=" language-java"><code class="language-java"><span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>*<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span>
<span class="token punctuation">{</span>
       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception
       <span class="token comment" spellcheck="true">/*
       Java 6 简单粗暴地认为第18行的 throw ex
       可能抛出的是 Exception 异常
       因为在捕获该异常时声明 ex 的类型是 Exception 
       因此此处声明抛出 Exception 异常
       */</span>
       <span class="token punctuation">{</span> 
              <span class="token keyword">try</span>
              <span class="token punctuation">{</span>
                  <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">"a.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>

              <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span>
              <span class="token punctuation">{</span>
                  ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                  <span class="token keyword">throw</span> ex<span class="token punctuation">;</span>
              <span class="token punctuation">}</span>
       <span class="token punctuation">}</span>
<span class="token punctuation">}</span>





<span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>*<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span>
<span class="token punctuation">{</span>
       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> FileNotFoundException
       <span class="token comment" spellcheck="true">/*
       Java 7 开始细致地检查第52行的 throw ex
       中 ex 的实际类型
       可能抛出的是 FileNotFoundException 异常
       因为 try 块中调用了 FileOutputStream 构造器
       该构造器声明只是抛出了 FileNotFoundException 异常
       因此此处声明抛出 FileNotFoundException 异常
       */</span>
       <span class="token punctuation">{</span> 
              <span class="token keyword">try</span>
              <span class="token punctuation">{</span>
                  <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">"a.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>

              <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span>
              <span class="token punctuation">{</span>
                  ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                  <span class="token keyword">throw</span> ex<span class="token punctuation">;</span>
              <span class="token punctuation">}</span>
       <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<ul>
<li>Java 7增强的 throw 语句</li>
</ul>
<h3 id="异常跟踪栈"><a href="#异常跟踪栈" class="headerlink" title="异常跟踪栈"></a>异常跟踪栈</h3><pre class=" language-java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">HelloException</span> <span class="token keyword">extends</span> <span class="token class-name">RuntimeException</span>
<span class="token punctuation">{</span>
       <span class="token keyword">public</span> <span class="token function">HelloException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

       <span class="token keyword">public</span> <span class="token function">HelloException</span><span class="token punctuation">(</span>String s<span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              <span class="token keyword">super</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span>
<span class="token punctuation">{</span>
       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">firstMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              <span class="token function">secondMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>

       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">secondMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              <span class="token function">thirdMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>

       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">thirdMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">HelloException</span><span class="token punctuation">(</span><span class="token string">"自定义异常信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>

       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> 
       <span class="token punctuation">{</span> 
              <span class="token function">firstMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token comment" spellcheck="true">/*
              以下五行分别为：
              1. main 线程出现未捕获的自定义异常
              2. 异常源头触发（thirdMethod()）
              3. 传到第二个（secondMethod()）
              4. 传到第三个（firstMethod()）
              5. main 方法
              它记录了应用程序中执行停止的各个点
              输出：
Exception in thread "main" HelloException: 自定义异常信息
          at HelloWorld.thirdMethod(HelloWorld.java:25)
          at HelloWorld.secondMethod(HelloWorld.java:20)
          at HelloWorld.firstMethod(HelloWorld.java:15)
          at HelloWorld.main(HelloWorld.java:30)
              */</span>
       <span class="token punctuation">}</span>
<span class="token punctuation">}</span>




<span class="token comment" spellcheck="true">//多线程</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span>
<span class="token punctuation">{</span>
       <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              <span class="token function">firstMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>

       <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">firstMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              <span class="token function">secondMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>

       <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">secondMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
              <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
              <span class="token keyword">int</span> c <span class="token operator">=</span> a <span class="token operator">/</span> b<span class="token punctuation">;</span>
       <span class="token punctuation">}</span>

       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> 
       <span class="token punctuation">{</span> 
              <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HelloWorld</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token comment" spellcheck="true">/*
              异常源头是 secondMethod()
              为 java.lang.ArithmeticException 异常
              这个异常传播到 Thread 类的 run() 方法就会结束
              如果该异常没有得到处理
              将会导致该线程中止运行
              输出：
Exception in thread "Thread-0" java.lang.ArithmeticException: / by zero
          at HelloWorld.secondMethod(HelloWorld.java:17)
          at HelloWorld.firstMethod(HelloWorld.java:10)
          at HelloWorld.run(HelloWorld.java:5)
          at java.base/java.lang.Thread.run(Thread.java:834)
              */</span>
       <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<ul>
<li>异常对象的 printStackTrace() 方法用于打印异常的跟踪栈信息</li>
<li>根据 printStackTrace() 方法输出的结果，开发者可以找到异常的源头，并跟踪异常一路触发的过程</li>
<li>面向对象的应用程序运行时，经常会发生一系列的方法调用，从而形成“方法调用栈”</li>
<li>异常的传播则相反，只要异常没被完全捕获（包括没有捕获和被捕获后又抛出新异常），异常从发异常的方法逐渐向外传播<ul>
<li>首先传给该方法的调用者，该方法的调用者再次传给其调用者…</li>
<li>直至最后传到 main 方法，如果 main 方法没有处理该异常， JVM 就会中止程序，并打印异常跟踪栈</li>
</ul>
</li>
<li>跟踪栈总是从最内部的被调用的方法逐渐上传，直到最外部业务操作的起点<ul>
<li>通常就是程序的入口 main 方法</li>
<li>或 Thread 类的 run 方法（多线程情形）</li>
</ul>
</li>
<li>虽然 printStackTrace() 方法可以很方便地用于追踪异常的发生情况<ul>
<li>但在最后发布的程序中，应该避免使用</li>
<li>应该对捕获的异常进行适当的处理，而不是简单地将异常的跟踪栈信息打印出来</li>
</ul>
</li>
</ul>
<h3 id="异常处理规则"><a href="#异常处理规则" class="headerlink" title="异常处理规则"></a>异常处理规则</h3><ul>
<li>成功的异常处理应该实现：<ul>
<li>使程序代码混乱最小化</li>
<li>捕获并保留诊断信息</li>
<li>通知合适的人员</li>
<li>采用合适的方式结束异常活动</li>
</ul>
</li>
<li>过度使用异常：<ul>
<li>把异常和普通错误混淆在一起，不再编写任何错误处理代码，而是简单地抛出异常来代替所有的错误处理</li>
<li>使用异常处理来代替流程控制</li>
</ul>
</li>
<li>对于完全已知的错误，应该编写处理这种错误的代码，增加程序的健壮性</li>
<li>只有对外部的、不能确定和预知的运行时错误才使用异常</li>
<li>异常处理机制的初衷时将不可预期异常的处理代码和正常的业务逻辑处理代码分离，因此绝不要使用异常处理机制来代替正常的业务逻辑判断<ul>
<li>且异常处理机制的效率比正常的流程控制效率差，所以不要使用异常处理机制来代替正常的流程控制</li>
</ul>
</li>
</ul>
<pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">/*
使用异常处理机制循环打印数组
可读性较差
效率低下
程序完全有能力避开产生 ArrayIndexOutOfBoundsException 异常
*/</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span>
<span class="token punctuation">{</span>       
       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> 
       <span class="token punctuation">{</span> 
              String<span class="token punctuation">[</span><span class="token punctuation">]</span> a <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"樱桃落尽春归去"</span> <span class="token punctuation">,</span>
                            <span class="token string">"蝶翻金粉双飞"</span> <span class="token punctuation">,</span> 
                            <span class="token string">"子规啼月小楼西"</span> <span class="token punctuation">,</span>
                            <span class="token string">"玉钩罗幕"</span> <span class="token punctuation">,</span> 
                            <span class="token string">"惆怅暮烟垂"</span> <span class="token punctuation">,</span> 
                            <span class="token string">"别巷寂寥人散后"</span> <span class="token punctuation">,</span> 
                            <span class="token string">"望残烟草低迷"</span> <span class="token punctuation">,</span> 
                            <span class="token string">"炉香闲袅凤凰儿"</span> <span class="token punctuation">,</span> 
                            <span class="token string">"空持罗带"</span> <span class="token punctuation">,</span> 
                            <span class="token string">"回首恨依依"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

              <span class="token keyword">try</span>
              <span class="token punctuation">{</span>
                  <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

                  <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
                  <span class="token punctuation">{</span>
                      System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                      <span class="token comment" spellcheck="true">/*
                      输出：
                      樱桃落尽春归去
                      蝶翻金粉双飞
                      子规啼月小楼西
                      玉钩罗幕
                      惆怅暮烟垂
                      别巷寂寥人散后
                      望残烟草低迷
                      炉香闲袅凤凰儿
                      空持罗带
                      回首恨依依
                      */</span>
                  <span class="token punctuation">}</span>
              <span class="token punctuation">}</span>

              <span class="token keyword">catch</span><span class="token punctuation">(</span>ArrayIndexOutOfBoundsException ae<span class="token punctuation">)</span>
              <span class="token punctuation">{</span>
                  System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ae<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                  ae<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span> 
       <span class="token punctuation">}</span>
<span class="token punctuation">}</span>



<span class="token comment" spellcheck="true">//更健壮的循环打印数组</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span>
<span class="token punctuation">{</span>       
       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> 
       <span class="token punctuation">{</span> 
              String<span class="token punctuation">[</span><span class="token punctuation">]</span> a <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"樱桃落尽春归去"</span> <span class="token punctuation">,</span>
                            <span class="token string">"蝶翻金粉双飞"</span> <span class="token punctuation">,</span> 
                            <span class="token string">"子规啼月小楼西"</span> <span class="token punctuation">,</span>
                            <span class="token string">"玉钩罗幕"</span> <span class="token punctuation">,</span> 
                            <span class="token string">"惆怅暮烟垂"</span> <span class="token punctuation">,</span> 
                            <span class="token string">"别巷寂寥人散后"</span> <span class="token punctuation">,</span> 
                            <span class="token string">"望残烟草低迷"</span> <span class="token punctuation">,</span> 
                            <span class="token string">"炉香闲袅凤凰儿"</span> <span class="token punctuation">,</span> 
                            <span class="token string">"空持罗带"</span> <span class="token punctuation">,</span> 
                            <span class="token string">"回首恨依依"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

              <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> a<span class="token punctuation">.</span>length <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
              <span class="token punctuation">{</span>
                  System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>
       <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<ul>
<li>避免使用 catch all 语句<ul>
<li>即 catch (Throwable t)</li>
<li>在编写关键程序时应避免使用</li>
<li>所有的异常都采用相同的处理方式将导致无法对不同的异常分情况处理</li>
<li>可以导致 Error 、Runtime 异常等可能导致程序终止的情况全部被捕获到，从而“压制”了异常，一些关键异常会被“静悄悄”地忽略</li>
</ul>
</li>
<li>不要使用过于庞大的 try 块<ul>
<li>正确的做法是把大块的 try 块分割成多个可能出现异常的程序段落，并把它们放在单独的 try 块中，从而分别捕获并处理异常</li>
</ul>
</li>
<li>不要忽略捕获到的异常<ul>
<li>catch 块理应做些有用的事情：<ul>
<li>处理并修复这个错误</li>
<li>重新抛出异常</li>
<li>如果当前层不清楚如何处理，就不要用 catch 语句来捕获，应该 throws 声明抛出由其上层调用者处理</li>
</ul>
</li>
<li>catch 块为空或仅仅打印出错信息都是不妥的</li>
</ul>
</li>
</ul>

                </div>
                <hr/>

                <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">

<div id="article-share">
    
    <div class="social-share" data-disabled="qzone" data-wechat-qrcode-helper="<p>微信里点“发现”->“扫一扫”二维码便可查看分享。</p>"></div>
    
</div>

<script src="/libs/share/js/social-share.min.js"></script>

                <div class="reprint">
                    <p>
                        <span class="reprint-tip">转载请注明: </span>
                        <a href="https://achillesprime.github.io" class="b-link-green">AchillesPrime</a>
                        <i class="fa fa-angle-right fa-lg fa-fw text-color"></i>
                        <a href="/2018/10/15/Java-Foundation-G/" class="b-link-green">Java Foundation.G</a>
                    </p>
                </div>
            </div>
        </div>

        

        

        

<article id="articles" class="container prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up" data-aos="fade-up">
            <div class="article-badge left-badge text-color">本篇</div>
            <div class="card">
                <a href="/2018/10/15/Java-Foundation-G/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/26.jpg" class="responsive-img" alt="Java Foundation.G">
                        
                        <span class="card-title">Java Foundation.G</span>
                    </div>

                    <div class="card-content article-content">
                        <div class="summary">Three Questions Before Embarking On A trip To Java
为什么要用这些技术

用这些技术有什么好处

如果不用这些技术行不行

异常处理概述
世界上的意外是不可穷举的


异常处理已经成为衡量一</div>
                        <div class="publish-info">
                            <span class="publish-date">
                                <i class="fa fa-calendar fa-fw"></i>2018-10-15
                            </span>
                            <span class="publish-author">
                                <i class="fa fa-user fa-fw"></i>
                                
                                Tony.Prime
                                
                            </span>
                        </div>
                    </div>

                    
                    <div class="card-action article-tags">
                        
                        <a href="https://achillesprime.github.io/tags/Java/"><span class="chip bg-color">Java</span></a>
                        
                        <a href="https://achillesprime.github.io/tags/Foundation/"><span class="chip bg-color">Foundation</span></a>
                        
                    </div>
                    
                </a>
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">下一篇</div>
            <div class="card">
                <a href="/2018/10/15/Java-Foundation-F/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/25.jpg" class="responsive-img" alt="Java Foundation.F">
                        
                        <span class="card-title">Java Foundation.F</span>
                    </div>
                    <div class="card-content article-content">
                        <div class="summary">
                            Three Questions Before Embarking On A trip To Java
为什么要用这些技术

用这些技术有什么好处

如果不用这些技术行不行

面向对象（四）抽象类abstract class H       
                        </div>
                        <div class="publish-info">
                            <span class="publish-date">
                                <i class="fa fa-calendar fa-fw"></i>2018-10-15
                            </span>
                            <span class="publish-author">
                                <i class="fa fa-user fa-fw"></i>
                                
                                Tony.Prime
                                
                            </span>
                        </div>
                    </div>
                    
                    <div class="card-action article-tags">
                        
                        <a href="https://achillesprime.github.io/tags/Java/"><span class="chip bg-color">Java</span></a>
                        
                        <a href="https://achillesprime.github.io/tags/Foundation/"><span class="chip bg-color">Foundation</span></a>
                        
                    </div>
                    
                </a>
            </div>
        </div>
        
    </div>
</article>
    </div>
</main>

<footer class="page-footer bg-color">
    <div class="container row center-align">
        <div class="col s12 m8 l8 copy-right">
            本站由&copy;<a href="http://blinkfox.com" target="_blank">Blinkfox</a>基于
            <a href="https://hexo.io/" target="_blank">Hexo</a> 采用
            <a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">hexo-theme-matery</a>主题搭建.
        </div>
        <div class="col s12 m4 l4 social-link">
            <a href="https://github.com/blinkfox" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
                <i class="fa fa-github fa-lg"></i>
            </a>
            <a href="mailto:chenjiayin1990@163.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
                <i class="fa fa-envelope fa-lg"></i>
            </a>
            <a href="#!" class="tooltipped" data-tooltip="QQ: 1181062873" data-position="top" data-delay="50">
                <i class="fa fa-qq fa-lg"></i>
            </a>
        </div>
    </div>
</footer>

<div class="progress-bar"></div>


<!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title">搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input" autofocus="">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
    searchFunc("/" + "search.xml", 'searchInput', 'searchResult');
</script>
<!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fa fa-angle-double-up"></i>
    </a>
</div>


<script src="/libs/materialize/js/materialize.min.js"></script>
<script src="/libs/masonry/masonry.pkgd.min.js"></script>
<script src="/libs/aos/aos.js"></script>
<script src="/libs/scrollprogress/scrollProgress.min.js"></script>
<script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
<script src="/js/matery.js"></script>
</body>
</html>